(()=>{var e={3669:()=>{},2976:()=>{},1571:()=>{},536:()=>{},3973:()=>{},2669:()=>{},9293:()=>{},5336:()=>{},5302:()=>{},6194:()=>{},2635:()=>{},3459:()=>{},4293:()=>{},5782:()=>{},2978:(e,t,s)=>{window.ImetCore={},Vue.component("dopa_chart_bar",window.ModularForms.Dopa.chart_bar),Vue.component("dopa_indicators_table",window.ModularForms.Dopa.indicators_table),Vue.component("dopa_radar",window.ModularForms.Dopa.chart_radar),Vue.component("imet_charts",s(4544).Z),Vue.component("imet_encoders_responsibles",s(5832).Z),Vue.component("imet_progress_bar",s(5711).Z),Vue.component("imet_radar",s(568).Z),Vue.component("multiple-files-upload",s(3903).Z),Vue.component("selector-wdpa",s(2812).Z),Vue.component("selector-wdpa_multiple",s(3707).Z),s(4142)},4142:(e,t,s)=>{window.ImetCore.ScalingUp={},window.ImetCore.ScalingUp.Mixins={resize:s(1594).Z,ajax:s(5248).Z},Vue.component("app",s(7478).Z),Vue.component("general_info",s(829).Z),Vue.component("management_context",s(3816).Z),Vue.component("grouping",s(5219).Z),Vue.component("map_view",s(628).Z),Vue.component("preview_template",s(2789).Z),Vue.component("container",s(130).Z),Vue.component("container_section",s(1199).Z),Vue.component("container_radars",s(6735).Z),Vue.component("container_upper_lower_radars",s(7971).Z),Vue.component("container_actions",s(9609).Z),Vue.component("datatable_custom",s(5867).Z),Vue.component("datatable_interact_with_radar",s(3458).Z),Vue.component("datatable_interact_with_scatter",s(3312).Z),Vue.component("datatable_scaling",s(3735).Z),Vue.component("bar",s(1469).Z),Vue.component("bar_reverse",s(6314).Z),Vue.component("bar_category_stack",s(1735).Z),Vue.component("imet_bar_error",s(4973).Z),Vue.component("scaling_radar",s(5360).Z),Vue.component("treemap",s(9836).Z),Vue.component("scaling_dopa_chart_bar",s(769).Z),Vue.component("scaling_dopa_chart_doughnut",s(934).Z),Vue.component("scatter",s(5174).Z),Vue.component("action_buttons",s(5900).Z),Vue.component("html_to_image",s(2027).Z),Vue.component("basket",s(8274).Z),Vue.component("small_menu",s(2161).Z),Vue.component("imet_basic_bars",s(9910).Z),Vue.component("action-button",s(919).Z),Vue.component("action-button-cookie",s(5058).Z),Vue.component("label-cloud",s(6212).Z),Vue.component("dopa_coverage_table",s(5564).Z)},5248:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a={props:{url:{type:String,default:""},parameters:{type:String,default:""},func:{type:String,default:()=>null},method:{type:String,default:"Post"},lazy_load_parameters:{type:Boolean,default:!1},loaded_at_once:{type:Boolean,default:!0}},watch:{loaded_at_once:{deep:!0,handler(){this.init()}}},data:function(){return{event_parameters:{},func_parameter:{},url_parameter:{},show_loader:!1,loaded_once:!1,error_returned:!1,timeout:!1,error_wrong:!1}},async mounted(){!0===this.loaded_at_once&&await this.init()},computed:{},methods:{init:async function(){!1===this.loaded_once&&(this.initialize_values(),await this.load_procedure())},initialize_values:function(){this.event_parameters=Array.isArray(this.parameters)?this.parameters:this.parameters.split(","),this.func_parameter=this.func,this.url_parameter=this.url},load_procedure:async function(){this.lazy_load_parameters?this.$root.$on("incoming-data",(async e=>{this.event_parameters=e.parameters??this.parameters,this.func_parameter=e.func??this.func,this.url_parameter=e.url??this.url,await this.retrieve_data()})):await this.retrieve_data()},parameters_man:function(){return this.event_parameters},error:function(e){e.response?!1===e.status||"ECONNABORTED"===e.code?this.timeout=!0:500===e.response.status&&(this.error_wrong=!0):this.error_wrong=!0},finally:function(e){this.show_loader=!1,this.loaded_once=!0},success:function(e){throw new Error("Not Implemented ")},retrieve_data:async function(){try{this.show_loader=!0;const e=await window.axios({method:this.method,url:this.url_parameter,data:{_token:window.Laravel.csrfToken,func:this.func_parameter,parameter:this.parameters_man()},timeout:3e4});this.success(e.data)}catch(e){this.error(e)}finally{this.finally()}}}}},1594:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a={inject:["state"],props:{event_id:{type:String,default:"save_image"}},data:function(){return{chart:null}},async mounted(){const e=this;this.draw_chart(),window.addEventListener("resize",this.handleResize),this.$parent.$on("save_data",((t,s,a)=>{e.chart&&s(e.chart.getDataURL({pixelRatio:2,backgroundColor:"#fff"}),a)}))},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.chart&&this.chart.resize()}}}},7329:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const a=new class{constructor(){}async ajax_request(e,t,s="POST"){return await window.axios({method:s,url:window.Laravel.baseUrl+e,data:{_token:window.Laravel.csrfToken,...t}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null}))}async save(e){return await this.ajax_request("admin/imet/v2/scaling_up/basket/add",{value:e})}async retrieve(e){return await this.ajax_request("admin/imet/v2/scaling_up/basket/retrieve",{id:e})}async all(e){return await this.ajax_request("admin/imet/v2/scaling_up/basket/all",{id:e})}delete_item_child(e,t){const s=JSON.parse(window.localStorage.getItem(e)).filter(((e,s)=>s!==t));return window.localStorage.setItem(e,JSON.stringify(s)),this.retrieve(e)}async delete(e){return await this.ajax_request(`admin/imet/v2/scaling_up/basket/delete/${e}`,null,"DELETE")}async clear(e){return await this.ajax_request("admin/imet/v2/scaling_up/basket/clear",{id:e})}};class i{constructor(e){this.scaling_up_id=e.scaling_up_id,this.init()}init(){}async save(e){return e.scaling_up_id=this.scaling_up_id,await a.save(e)}delete(e){return a.delete(e)}retrieve(e){return a.retrieve(e)}retrieve_all(){return a.all(this.scaling_up_id)}clear(){return a.clear(this.scaling_up_id)}get_scaling_up_id(){return this.scaling_up_id}get_local_storage_images_key(){return"basket"}}},3903:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("button",{staticClass:"btn btn-danger mb-2",on:{click:e.clearDropzone}},[e._v(e._s(e.Locale.getLabel("modular-forms::common.upload.remove_all")))]),e._v(" "),s("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:e.options,useCustomSlot:!0},on:{"vdropzone-error":e.uploadError,"vdropzone-processing":e.processing,"vdropzone-success":e.uploadedSuccessfully,"vdropzone-file-added":e.fileAdded}},[s("div",{staticClass:"dropzone-custom-content",staticStyle:{"margin-top":"100px"}},[s("h3",{staticClass:"dropzone-custom-title"},[e._v(e._s(e.Locale.getLabel("modular-forms::common.upload.multiple_files_description")))])])])],1)};a._withStripped=!0;const i={name:"multipleUpload.vue",components:{vueDropzone:window.VueDropzone},data(){const e=window.Locale;return{Locale:e,modalIsOpen:!1,options:{url:window.Laravel.baseUrl+"admin/imet/ajax/upload",previewTemplate:this.template(),params:{_token:window.Laravel.csrfToken},addRemoveLinks:!0,clickable:!0,maxFiles:20,maxFilesize:150,timeout:1e5,acceptedFiles:".json,.zip",autoProcessQueue:!0,dictDefaultMessage:e.getLabel("modular-forms::common.upload.dict_default_message"),dictFallbackMessage:e.getLabel("modular-forms::common.upload.dict_fallback_message"),dictFallbackText:e.getLabel("modular-forms::common.upload.dict_fallback_text"),dictFileTooBig:e.getLabel("modular-forms::common.upload.dict_file_too_big"),dictInvalidFileType:e.getLabel("modular-forms::common.upload.dict_invalid_file_type"),dictResponseError:e.getLabel("modular-forms::common.upload.dict_response_error"),dictCancelUpload:e.getLabel("modular-forms::common.upload.dict_cancel_upload"),dictUploadCanceled:e.getLabel("modular-forms::common.upload.dict_upload_canceled"),dictRemoveFile:e.getLabel("modular-forms::common.upload.dict_remove_file"),dictMaxFilesExceeded:e.getLabel("modular-forms::common.upload.dictMaxFilesExceeded")},formatTypes:["application/json","application/zip"]}},mounted:function(){window.confirm=function(){return!0}},methods:{template:function(){return'<div class="table table-striped files" id="previews">\n                <div id="template" class="file-row">\n                    <div>\n                        <span class="preview"><img data-dz-thumbnail/></span>\n                    </div>\n                     <div>\n                        <p class="name" data-dz-name></p>\n                    </div>\n                    <div>\n                        <p class="size" data-dz-size></p>\n                        <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100"\n                             aria-valuenow="0">\n                            <div class="progress-bar progress-bar-success" id="total-progress" style="width:0%;" data-dz-uploadprogress></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '},hideShowRemoveLink(e,t){e.previewTemplate.querySelector("a.dz-remove").style.display=t},clearDropzone(){this.$refs.myVueDropzone.removeAllFiles()},progressBarConfiguration(e,t,s="blue",a="100%"){const i=e.previewTemplate.querySelector("#total-progress.progress-bar");i.innerHTML=t,i.style.backgroundColor=s,i.style.color="white",i.style.width=a},fileAdded(e){this.hideShowRemoveLink(e,"none");const t=[...this.$refs.myVueDropzone.$el.children],s=t.pop();t.unshift(s),document.querySelector("#dropzone").append(...t)},uploadError(e,t){let s=Locale.getLabel("modular-forms::common.upload.upload_error");t.message?s+=t.message:this.formatTypes.includes(e.type)?s+=t:s=Locale.getLabel("modular-forms::common.upload.not_valid_format"),this.hideShowRemoveLink(e,"block"),this.progressBarConfiguration(e,s,"red","100%")},processing(e){this.progressBarConfiguration(e,Locale.getLabel("modular-forms::common.upload.uploading"))},uploadedSuccessfully(e,t){let s=Locale.getLabel("modular-forms::common.upload.uploaded");if(t.length>1){let e=0;t.forEach((t=>{"error"!==t.status&&e++}));const a=t.length;s+=Locale.getLabel("modular-forms::common.upload.not_all_imported").replace("{{filesDidNotUploaded}}",e).replace("{{totalFiles}}",a)}this.hideShowRemoveLink(e,"block"),this.progressBarConfiguration(e,s,"green")}}};s(6865);var o=(0,s(1900).Z)(i,a,[],!1,null,"cadb8ebe",null);o.options.__file="src/assets/js/inputs/multiple-files-upload.vue";const n=o.exports},2812:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("modal-selector",{staticClass:"selector-wdpa",attrs:{"parent-id":e.id,"anchor-label":e.anchorLabel},scopedSlots:e._u([{key:"modal_content",fn:function(){return[s("modal_api_search",{attrs:{"parent-id":e.id,"search-url":"ajax/search/protected_areas","key-min-length":3,"parent-search-params-valid":e.searchParamValid},scopedSlots:e._u([{key:"modal_search_filters",fn:function(){return[e._v(" \n                "+e._s(e.Locale.getLabel("imet-core::common.country"))+"\n                "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.filterByCountry,expression:"filterByCountry"}],staticClass:"field-edit",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.filterByCountry=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"null"}},[e._v(" - - ")]),e._v(" "),e._l(e.dataCountries,(function(t,a){return s("option",{domProps:{value:a}},[e._v("\n                        "+e._s(t)+"\n                    ")])}))],2)]},proxy:!0},{key:"modal_search_results_filters",fn:function(){},proxy:!0},{key:"resultItem",fn:function(t){var a=t.item;return[s("td",[s("span",{staticClass:"result_left"},[s("b",[e._v(e._s(a.name))])])]),e._v(" "),s("td",[null!==a.wdpa_id?s("a",{attrs:{target:"_blank",href:"https://www.protectedplanet.net/'+item.wdpa_id+'"}},[e._v(e._s(a.wdpa_id))]):e._e()]),e._v(" "),s("td",[e._v(e._s(a.country_name))]),e._v(" "),s("td",[e._v(e._s(a.iucn_category))])]}}])}),e._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn-nav dark small",attrs:{type:"button",disabled:null===e.selectedValue},on:{click:e.confirmSelection}},[e._v("\n                "+e._s(e.Locale.getLabel("modular-forms::common.confirm_select"))+"\n            ")])])]},proxy:!0}])})};a._withStripped=!0;const i={components:{flag:window.ModularForms.Template.flag,"modal-selector":window.ModularForms.Input.modalSelector,modal_api_search:window.ModularForms.Input.modalApiSearch},mixins:[window.ModularForms.MixinsVue.values],props:{dataCountries:{type:Object,default:()=>{}}},data:()=>({Locale:window.Locale,anchorLabel:null,selectedValue:null,confirmedValue:null,confirmedLabel:null,filterByCountry:null}),computed:{searchParamValid(){return null!==this.filterByCountry&&"null"!==this.filterByCountry}},watch:{inputValue(e){this.anchorLabel=null!==this.confirmedLabel?this.confirmedLabel:null,this.confirmedLabel=null,this.confirmedValue=e}},mounted(){this.modalComponent=this.$children[0],this.searchComponent=null,this.anchorLabel=this.inputValue},methods:{searchParams(){return{country:this.filterByCountry}},resultTableHeader:()=>["",Locale.getLabel("imet-core::common.name"),Locale.getLabel("imet-core::common.protected_area.wdpa_id",1),Locale.getLabel("imet-core::common.country"),Locale.getLabel("imet-core::common.protected_area.iucn_category")],confirmSelection(){this.confirmedLabel=this.selectedValue.name,this.confirmedValue=this.selectedValue.wdpa_id,this.emitValue(this.confirmedValue),this.modalComponent.closeModal()}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/inputs/selector-wdpa.vue";const n=o.exports},3707:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("modal-selector",{staticClass:"selector-wdpa_multiple",attrs:{disable_modal:e.disable_modal,"parent-id":e.id},scopedSlots:e._u([{key:"custom_anchor",fn:function(){return e._l(e.inputValuesObj,(function(t){return s("span",{staticClass:"field-preview"},[s("i",{staticClass:"fa fa-times removeItem",on:{click:function(s){return e.removeItem(t.id)}}}),e._v("\n            "+e._s(t.label)+"\n        ")])}))},proxy:!0},{key:"modal_anchor",fn:function(){return[s("span",{staticClass:"field-preview"})]},proxy:!0},{key:"modal_content",fn:function(){return[s("modal_api_search",{attrs:{"parent-id":e.id,"search-url":"ajax/search/protected_areas","key-min-length":3},scopedSlots:e._u([{key:"modal_search_results_filters",fn:function(){return[s("i",[e._v(e._s(e.Locale.getLabel("modular-forms::common.filter_results"))+": ")]),e._v("    \n                "+e._s(e.Locale.getLabel("imet-core::common.country"))+"\n                "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.filterByCountry,expression:"filterByCountry"}],staticClass:"field-edit",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.filterByCountry=t.target.multiple?s:s[0]},function(t){return e.filterList()}]}},[s("option",{attrs:{value:"null"}},[e._v(" - - ")]),e._v(" "),e._l(e.countries,(function(t,a){return s("option",{domProps:{value:a}},[e._v("\n                        "+e._s(t)+"\n                    ")])}))],2)]},proxy:!0},{key:"resultItem",fn:function(t){var a=t.item;return[s("td",[s("span",{staticClass:"result_left"},[s("b",[e._v(e._s(a.name))])])]),e._v(" "),s("td",[null!==a.wdpa_id?s("a",{attrs:{target:"_blank",href:"https://www.protectedplanet.net/'+item.wdpa_id+'"}},[e._v(e._s(a.wdpa_id))]):e._e()]),e._v(" "),s("td",[e._v(e._s(a.country_name))]),e._v(" "),s("td",[e._v(e._s(a.iucn_category))])]}}])}),e._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn-nav dark small",attrs:{type:"button",disabled:null===e.selectedValue},on:{click:e.confirmSelection}},[e._v("\n                "+e._s(e.Locale.getLabel("modular-forms::common.confirm_select"))+"\n            ")])])]},proxy:!0}])})};a._withStripped=!0;const i={components:{flag:window.ModularForms.Template.flag,"modal-selector":window.ModularForms.Input.modalSelector,modal_api_search:window.ModularForms.Input.modalApiSearch},mixins:[window.ModularForms.MixinsVue.values],props:{disable_modal:{type:Boolean,default:!1},dataObjs:{type:Object,default:null}},data:()=>({Locale:window.Locale,inputValuesObj:[],inputValuesString:"",countries:[],filterByCountry:null,selectedValue:null}),mounted(){this.getPaLabels(this.value),this.modalComponent=this.$children[0],this.searchComponent=null},watch:{value(e){this.getPaLabels(e)}},methods:{getPaLabels(e){let t=this;this.inputValuesObj=[],this.inputValuesString="",null!==e&&window.axios({method:"POST",url:window.Laravel.baseUrl+"api/protected_areas/pairs",data:{_token:window.Laravel.csrfToken,ids:e}}).then((function(e){Object.values(e.data).length>0&&Object.values(e.data).forEach((function(e){t.pushItem(e)}))})).catch((function(){}))},afterSearch(e){this.countries=e.countries},resultTableHeader:()=>["",Locale.getLabel("imet-core::common.name"),Locale.getLabel("imet-core::common.protected_area.wdpa_id",1),Locale.getLabel("imet-core::common.country"),Locale.getLabel("imet-core::common.protected_area.iucn_category")],filterList(){let e={country:this.filterByCountry};this.searchComponent.filterShowList(e)},confirmSelection(){this.pushItem({id:this.selectedValue.wdpa_id,label:this.selectedValue.name}),this.emitValue(this.inputValuesString),this.modalComponent.closeModal()},pushItem(e){null!==e&&""!==e&&(this.inputValuesObj.push({id:e.id,label:e.label}),""!==this.inputValuesString&&(this.inputValuesString+=","),this.inputValuesString+=e.id)},removeItem(e){let t=this.inputValuesString.replace(e,"").split(",").filter((function(e){return""!==e}));this.inputValuesString=t.toString();let s=[];this.inputValuesObj.forEach((function(t){t.id!==e&&s.push(t)})),this.inputValuesObj=s,this.emitValue(this.inputValuesString)}}};s(7136);var o=(0,s(1900).Z)(i,a,[],!1,null,"0400f0a6",null);o.options.__file="src/assets/js/inputs/selector-wdpa_multiple.vue";const n=o.exports},5058:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:e.className,on:{click:function(t){return e.store_to_cookie_by_id_and_value("analysis")}}},[e._v("\n  "+e._s(e.label)+"\n")])};a._withStripped=!0;const i={name:"action-button-cookie.vue",mixins:[s(919).Z],methods:{store_to_cookie_by_id_and_value(e){if(this.data.length>0){const t=window.ModularForms.Mixins.Cookies.getByName(e);if(t){const e=t.split("="),s=[...JSON.parse(e[1]),...JSON.parse(this.data)].reduce(((e,t)=>Array.isArray(e)?e.some((e=>e.id==t.id))?e:[...e,t]:e.id===t.id?[e]:[e,t]));window.ModularForms.Mixins.Cookies.create(e[0],JSON.stringify(s))}else window.ModularForms.Mixins.Cookies.create(e,this.data);this.$root.$emit("reset_checkboxes"),this.action()}},store_to_cookie:function(e){if(this.data.length>0){const t=window.ModularForms.Mixins.Cookies.getByName(e);if(t){const e=t.split("="),s=[...new Set([...e[1].split("|").map((e=>parseInt(e))),...this.data.map((e=>parseInt(e)))])];window.ModularForms.Mixins.Cookies.create(e[0],s.join("|"))}else window.ModularForms.Mixins.Cookies.create(e,this.data.join("|"));this.$root.$emit("reset_checkboxes"),this.action()}}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"1f37d9d7",null);o.options.__file="src/assets/js/scaling_up_analysis/components/action-button-cookie.vue";const n=o.exports},919:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:e.className,on:{click:e.action}},[e._v("\n  "+e._s(e.label)+"\n")])};a._withStripped=!0;const i={name:"action-button.vue",props:{event:{type:String,default:""},className:{type:String,default:"btn btn-success float-left"},label:{type:String,default:"Submit"}},data:()=>({Locale:window.Locale,isEnabled:!1,data:[]}),mounted:function(){this.$root.$on("actionData",(e=>{this.eventFunction(e)}))},methods:{eventFunction:function(e){this.data=e,this.isEnabled=!0},resetValues:function(){this.isEnabled=!1,this.data=[]},action:function(){this.event&&(this.$root.$emit(this.event),this.resetValues())}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"1523012c",null);o.options.__file="src/assets/js/scaling_up_analysis/components/action-button.vue";const n=o.exports},5900:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-5 mt-5"},[s("div",{staticClass:"mt-3 text-black-50 font-weight-bold generic-comments"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.comments"))+" :")]),e._v(" "),s("p",[s("editor")],1),e._v(" "),s("html_to_image",{attrs:{element:e.name,exclude_elements:e.exclude_elements,type_image:e.type_image,event_id:e.event_id}})],1)};a._withStripped=!0;const i={name:"action_buttons",inject:["stores"],props:{name:{type:String,default:null},exclude_elements:{type:String,default:""},event_id:{type:String,default:"save_image"},type_image:{type:String,default:"entire"}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/action_buttons.vue";const n=o.exports},7478:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default")],2)};a._withStripped=!0;const i={indicators:[window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.planning")],color:["#00B050","#92D050","#0099CC","#ffc000","#bfbfbf","#ffff00"],color_correct_order:["#ffff00","#bfbfbf","#ffc000","#0099CC","#92D050","#00B050"],element_diagrams:{color:[{context:"#ffff00"},{planning:"#bfbfbf"},{inputs:"#ffc000"},{process:"#0099CC"},{outputs:"#92D050"},{outcomes:"#00B050"}],context:{columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.c11"),field:"c11"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.c12"),field:"c12"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.c13"),field:"c13"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.c14"),field:"c14"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.c15"),field:"c15"}]},process:{columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr15_16"),field:"pr15_16"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr10_12"),field:"pr10_12"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr13_14"),field:"pr13_14"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr17_18"),field:"pr17_18"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr1_6"),field:"pr1_6"},{label:window.Locale.getLabel("imet-core::analysis_report.assessment.pr7_9"),field:"pr7_9"}]}},dopa_indicators:{protected_area_coverage_and_connectivity:{title_table:window.Locale.getLabel("imet-core::analysis_report.protected_area_coverage_and_connectivity.title"),title_chart:window.Locale.getLabel("imet-core::analysis_report.protected_area_coverage_and_connectivity.chart"),bar_indicators:[{field:"area_prot_terr_perc",label:window.Locale.getLabel("imet-core::analysis_report.protected_area_coverage_and_connectivity.protected_land_area"),color:"#cae5a1"},{field:"area_prot_mar_perc",label:window.Locale.getLabel("imet-core::analysis_report.protected_area_coverage_and_connectivity.protected_marin_area"),color:"#8ecfe0"},{field:"protconn",label:window.Locale.getLabel("imet-core::analysis_report.protected_area_coverage_and_connectivity.protected_connected_land"),color:"#91ad41"}]},land_degradation:{title_table:window.Locale.getLabel("imet-core::analysis_report.land_degradation.title"),title_chart:window.Locale.getLabel("imet-core::analysis_report.land_degradation.chart"),indicators:[{field:"lpd_null_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.no_biomas"),color:"#46a246"},{field:"lpd_severe_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.persistent_severe"),color:"#c2c5cc"},{field:"lpd_moderate_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.persistent_moderate"),color:"#b8d879"},{field:"lpd_stressed_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.stable_stressed"),color:"#ec4900"},{field:"lpd_stable_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.stable_productivity"),color:"#ed732e"},{field:"lpd_increased_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.indicators.persistent_increase"),color:"#ab2849"}],bar_indicators:[{field:"lpd_null_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.no_biomas"),color:"#46a246"},{field:"lpd_severe_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.persistent_severe"),color:"#c2c5cc"},{field:"lpd_moderate_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.persistent_moderate"),color:"#b8d879"},{field:"lpd_stressed_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.persistent_strong"),color:"#ec4900"},{field:"lpd_stable_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.stable_productivity"),color:"#ed732e"},{field:"lpd_increased_km2",label:window.Locale.getLabel("imet-core::analysis_report.land_degradation.bar_indicators.persistent_increase"),color:"#ab2849"}]},total_carbon:{title_table:window.Locale.getLabel("imet-core::analysis_report.total_carbon.title"),indicators:[{field:"carbon_min_c_mg",label:window.Locale.getLabel("imet-core::analysis_report.total_carbon.min")},{field:"carbon_mean_c_mg",label:window.Locale.getLabel("imet-core::analysis_report.total_carbon.mean")},{field:"carbon_max_c_mg",label:window.Locale.getLabel("imet-core::analysis_report.total_carbon.max")},{field:"carbon_stdev_c_mg",label:window.Locale.getLabel("imet-core::analysis_report.total_carbon.std_dev")},{field:"carbon_tot_c_mg",label:window.Locale.getLabel("imet-core::analysis_report.total_carbon.sum")}]},forest_cover:{title_table:"Forest Cover",title_chart:"Forest loss and gain (%)",indicators:[{field:"gfc_treecover_km2",label:"Forest cover [km2]",color:"#5b5b5b"},{field:"gfc_treecover_perc",label:"Forest cover [%]",color:"#5b5b5b"},{field:"gfc_loss_km2",label:"Forest loss [km2]",color:"#D9534F"},{field:"gfc_loss_perc",label:"Forest loss [%]",color:"#D9534F"},{field:"gfc_gain_km2",label:"Forest gain [km2]",color:"#337AB7"},{field:"gfc_gain_perc",label:"Forest gain [%]",color:"#337AB7"}],bar_indicators:[{field:"gfc_loss_perc",label:"Forest loss [%]",color:"#D9534F"},{field:"gfc_gain_perc",label:"Forest gain [%]",color:"#337AB7"}]}},performance_diagram:{indicators:[window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.planning")],color:["#ffff00","#bfbfbf","#ffc000","#0099CC","#92D050","#00B050"],columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),field:"context"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.planning"),field:"planning"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),field:"inputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),field:"process"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),field:"outputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),field:"outcomes"},{label:window.Locale.getLabel("imet-core::v2_common.indexes.imet"),field:"imet_index"}]},evaluation_of_protected_area_management_cycle:{columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),field:"context"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.planning"),field:"planning"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),field:"inputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),field:"process"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),field:"outputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),field:"outcomes"},{label:window.Locale.getLabel("imet-core::v2_common.indexes.imet"),field:"imet_index"}]},relative_performance_effectiveness_bar_average:{indicators:[window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),window.Locale.getLabel("imet-core::v2_common.steps_eval.planning"),window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes")],color:["#ffff00","#bfbfbf","#ffc000","#0099CC","#92D050","#00B050","#ffff00"]},group_analysis_on_demand:{scatter_columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),field:"context"},{label:`${window.Locale.getLabel("imet-core::v2_common.steps_eval.context")}, ${window.Locale.getLabel("imet-core::v2_common.steps_eval.planning")}, ${window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs")}`,field:"planning"},{label:`${window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs")}, ${window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes")}`,field:"inputs"}],columns:[{label:window.Locale.getLabel("imet-core::v2_context.Create.fields.wdpa_id"),field:"name"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),field:"context"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.planning"),field:"planning"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),field:"inputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),field:"process"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),field:"outputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),field:"outcomes"}]},terrestial_ecoregions:{columns:[{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.name"),field:"eco_name"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.area"),field:"ecoregion_tot_sqkm"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.ecoregion_pa_sqkm"),field:"ecoregion_prot_sqkm",color:"#cae5a1"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.ecoregion_protected_tot_sqkm"),field:"pa_tot_sqkm",color:"#8ecfe0"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.protected_in_ecoregion"),field:"pa_in_eco_sqkm",color:"#91ad41"}]},marine_ecoregions:{columns:[{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.name"),field:"eco_name"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.area"),field:"ecoregion_tot_sqkm"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.ecoregion_pa_sqkm"),field:"ecoregion_prot_sqkm",color:"#cae5a1"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.ecoregion_protected_tot_sqkm"),field:"pa_tot_sqkm",color:"#8ecfe0"},{label:window.Locale.getLabel("imet-core::analysis_report.terrestial_ecoregions.protected_in_ecoregion"),field:"pa_in_eco_sqkm",color:"#91ad41"}]},copernicus:{columns:[{label:window.Locale.getLabel("imet-core::analysis_report.copernicus.label"),field:"label"},{label:window.Locale.getLabel("imet-core::analysis_report.copernicus.percent"),field:"percent"},{label:window.Locale.getLabel("imet-core::analysis_report.copernicus.area"),field:"area"},{label:window.Locale.getLabel("imet-core::analysis_report.copernicus.color"),field:"color",type:"color"}]},protected_area:{columns:[{label:window.Locale.getLabel("imet-core::analysis_report.protected_area.name"),field:"name"},{label:window.Locale.getLabel("imet-core::analysis_report.protected_area.gis_area"),field:"gis_area"},{label:window.Locale.getLabel("imet-core::analysis_report.protected_area.nature"),field:"nature",type:"bg-color"}]},map:{fields:[{label:"%",children:[{label:window.Locale.getLabel("imet-core::analysis_report.map.fields.area_prot_terr_perc"),field:"area_prot_terr_perc",color:"#91cc75"},{label:window.Locale.getLabel("imet-core::analysis_report.map.fields.protconn"),field:"protconn",color:"#3ba272"}]}],dopa_indicators:{terrestial_area:{title_table:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.terrestial_area.title_table"),indicators:[{field:"area_terr_perc",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.terrestial_area.area_terr_perc")},{field:"area_prot_terr_km2",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.terrestial_area.area_prot_terr_km2")},{field:"area_terr_km2",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.terrestial_area.area_terr_km2")}]},marine_area:{title_table:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.marine_indicators.title_table"),indicators:[{field:"area_mar_perc",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.marine_indicators.area_mar_perc")},{field:"area_prot_mar_km2",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.marine_indicators.area_prot_mar_km2")},{field:"area_mar_km2",label:window.Locale.getLabel("imet-core::analysis_report.map.dopa_indicators.marine_indicators.area_mar_km2")}]}}}},o=new class{constructor(){}save(e,t){const s=window.localStorage.getItem(e);if(s){const a=JSON.parse(s);a.push(t),window.localStorage.setItem(e,JSON.stringify(a))}else window.localStorage.setItem(e,JSON.stringify([t]))}retrieve(e){return JSON.parse(window.localStorage.getItem(e))}delete_item_child(e,t){const s=JSON.parse(window.localStorage.getItem(e)).filter(((e,s)=>s!==t));return window.localStorage.setItem(e,JSON.stringify(s)),this.retrieve(e)}delete(e){window.localStorage.removeItem(e)}clear(){window.localStorage.clear()}};var n=s(7329);class r{constructor(e){this.protected_areas=null,this.is_country=null,this.scaling_up_id=e.scaling_up_id,this.init()}init(){}is_country_enabled(){return this.is_country}toggle_country_enabled(){return this.is_country!=this.is_country}add_color_to_value(e,t,s){const a=[];return Object.values(e).forEach((e=>{const i=s.filter((e=>e[t]));a.push({value:e,itemStyle:{color:i[0][t]}})})),a}add_color_to_value_by_cat(e,t,s,a){return Object.values(e.Average)}add_color_to_value_rel(e,t){return e.Average?(Object.values(e.Average).forEach(((s,a)=>{e.Average[a]={value:s,itemStyle:{color:t[a]}}})),e):{}}parse_indicators(e){return Object.values(e)}is_visible(e){return void 0!==e&&Object.keys(e).length}localization(e){return window.Locale.getLabel(e)}}const l={name:"app",provide(){return{stores:{BasketStore:new n.Z({scaling_up_id:this.scaling_up_id}),BaseStore:new r({scaling_up_id:this.scaling_up_id}),LocalStore:o},config:i}},props:{scaling_up_id:{type:Number,default:0}}};var c=(0,s(1900).Z)(l,a,[],!1,null,"70004222",null);c.options.__file="src/assets/js/scaling_up_analysis/components/app.vue";const d=c.exports},1469:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bar",style:"width:"+e.width+"; min-height: "+e.height+";"})};a._withStripped=!0;const i={name:"bar",mixins:[window.ImetCore.ScalingUp.Mixins.resize],props:{width:{type:String,default:"100%"},height:{type:String,default:"500px"},values:{type:[Array,Object],default:()=>{}},fields:{type:Array,default:()=>{}},rotate:{type:Number,default:0},title:{type:String,default:""},colors:{type:Array,default:null},zoom:{type:Boolean,default:!1},axis_dimensions_x:{type:Object,default:()=>{}},axis_dimensions_y:{type:Object,default:()=>{}}},computed:{bar_options(){return{...this.get_colors(),title:{text:this.title,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:this.field_name(),axisLabel:{rotate:this.rotate,interval:0},...this.axis_dimensions_x},yAxis:{type:"value",realtimeSort:!0,minInterval:1,...this.axis_dimensions_y},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},series:[{data:this.values,type:"bar"}],...this.has_zoom()}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{has_zoom:function(){return this.zoom?{dataZoom:[{show:!0,start:0,end:100}]}:{}},get_colors:function(){return null===this.colors?{}:{colors:this.colors}},field_name:function(){return this.fields.map((e=>e))},draw_chart(){Object.keys(this.values).length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/bar_charts/bar.vue";const n=o.exports},1735:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bar",style:"width:"+e.width+"; min-height: "+e.height+";"})};a._withStripped=!0;const i={name:"bar_category_stack",mixins:[window.ImetCore.ScalingUp.Mixins.resize],props:{width:{type:String,default:"100%"},height:{type:String,default:"500px"},values:{type:[Array,Object],default:()=>{}},legends:{type:[Array,Object],default:()=>{}},x_axis_data:{type:[Array,Object],default:()=>{}},colors:{type:[Array,Object],default:()=>{}},axis_dimensions_x:{type:Object,default:()=>{}},axis_dimensions_y:{type:Object,default:()=>{}}},computed:{bar_options(){return{legend:{data:Object.values(this.legends),selectedMode:!1},...this.grid(),tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:this.x_axis_data,axisLabel:{interval:0,rotate:45}},yAxis:{type:"value",realtimeSort:!0,minInterval:1},series:this.series()}}},watch:{data:{deep:!0,handler(){this.draw_chart()}}},data:()=>({data:[]}),mounted(){this.data=this.values,this.draw_chart()},methods:{grid:function(){return{grid:{y:50,y2:100,x:50,x2:50}}},series:function(){const e=[];return Object.entries(this.values).forEach(((t,s)=>{e.push({color:this.colors[s],name:t[0],type:"bar",stack:"total",label:{show:!1},emphasis:{focus:"series"},data:t[1]})})),e.map(((t,s)=>(s===e.length-1&&(t.label={show:!0,position:"top",color:"#000",formatter:t=>{let s=0;return e.forEach((e=>{s+=e.data[t.dataIndex]})),s.toFixed(2)}}),t))),e},get_colors:function(){return null===this.colors?{}:{colors:this.colors}},field_name:function(){return this.fields.map((e=>e.length>10?e.split(" ").join("\n"):e))},draw_chart(){Object.keys(this.values).length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/bar_charts/bar_category_stack.vue";const n=o.exports},6314:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const a={name:"bar_reverse",mixins:[s(1469).Z],computed:{bar_options(){return{colors:["#5470C6"],title:{text:this.title,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",realtimeSort:!0,minInterval:1,max:0,min:-100},yAxis:{position:"right",type:"category",data:this.field_name(),axisLabel:{rotate:this.rotate,interval:0}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},series:[{data:this.values,label:{show:!0,position:"left"},type:"bar"}],...this.has_zoom()}}}};var i=(0,s(1900).Z)(a,void 0,void 0,!1,null,null,null);i.options.__file="src/assets/js/scaling_up_analysis/components/bar_charts/bar_reverse.vue";const o=i.exports},4973:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"imet_bar_error",style:"width:100%; height: "+e.height+";"})};a._withStripped=!0;const i={mixins:[window.ImetCore.ScalingUp.Mixins.resize],inject:["stores"],props:{width:{type:String,default:"100%"},height:{type:String,default:"600px"},values:{type:[Object,Array],default:()=>{}},indicators:{type:Array,default:()=>{}},show_legends:{type:Boolean,default:!1},font_size:{type:Number,default:13},options:{type:[Object,Array],default:()=>{}},axis_dimensions_x:{type:Object,default:()=>{}},axis_dimensions_y:{type:Object,default:()=>{}}},computed:{bar_options(){const{values:e,error_data:t,legends:s,indicators:a}=this.getValues();return{title:{text:""},legend:{data:s},...this.grid(),xAxis:{...this.axis_dimensions_x},yAxis:{data:a,axisLabel:{fontSize:this.font_size,interval:0,width:0,rotate:0,formatter:function(e){if(e.length<35)return e.split(" ").join("\n");const t=new RegExp(".{16}","g"),s=e.match(t),a=16*s.length;return e.length%a&&s.push(e.slice(a)),s.join("\n")}}},series:this.bar_item(e,t)}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},methods:{grid:function(){return{grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0}}},render_item:function(e,t){let s=t.value(0),a=t.coord([t.value(1),s]),i=t.coord([t.value(2),s]),o=.2*t.size([0,1])[1],n=t.style({stroke:t.visual("color"),fill:null});return{type:"group",toolbox:{show:!0,feature:{saveAsImage:{type:"png",show:!0},dataView:{readOnly:!1},magicType:{type:["line","bar"]}}},children:[{type:"line",transition:["shape"],shape:{x1:a[0],y1:a[1]-o,x2:a[0],y2:a[1]+o},style:n},{type:"line",transition:["shape"],shape:{x1:a[0],y1:a[1],x2:i[0],y2:i[1]},style:n},{type:"line",transition:["shape"],shape:{x1:i[0],y1:i[1]-o,x2:i[0],y2:i[1]+o},style:n}]}},setIndicators:function(){return this.indicators?.length?this.indicators.map(((e,t)=>e)):[]},colors:function(e){return e},legends:function(e=null){return e?{legend:{data:e}}:null},setLegends:function(){const e=[];return Object.entries(this.values).reverse().forEach((([t,s])=>{e.push({name:t})})),this.legends(e)},getValues:function(e=this.values){let t=[],s=[],a=[],i=[];return s=this.setIndicators(),this.show_legends&&(a=this.setLegends(e)),Object.entries(e).reverse().forEach((([e,a])=>{const o=e.replace(" ","\n");this.indicators?.length||s.push(o),"Average"===e?t=a:i=a})),{values:t,error_data:i,legends:a,indicators:s}},line_style:function(e,t=null){return{lineStyle:{type:e,color:t}}},bar_item:function(e,t){return[{type:"bar",name:"bar",data:e.map((e=>({value:e.value,itemStyle:{color:e.itemStyle.color},label:{color:"#000000"}}))),itemStyle:{color:"#77bef7"},label:{show:!0,position:"inside",fontSize:14}},{type:"custom",name:"error",itemStyle:{normal:{borderWidth:1.5}},renderItem:this.render_item,encode:{x:[1,2],y:0},label:{show:!1},data:t,z:100}]},draw_chart(){Object.keys(this.values).length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"575f98ff",null);o.options.__file="src/assets/js/scaling_up_analysis/components/bar_charts/imet_bar_error.vue";const n=o.exports},8274:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),e._v(" "),s("div",{staticClass:"stable",attrs:{id:"sidePreview"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1 basket-menu"},[s("div",{staticClass:"mt-2"},[s("span",{staticClass:"badge badge-pill badge-primary"},[e._v(e._s(e.preview_images.length))])]),e._v(" "),s("div",{staticClass:"mt-2"},[s("i",{staticClass:"fa fa-trash green",on:{click:function(t){return e.remove_all()}}})]),e._v(" "),s("div",{staticClass:"mt-2"},[s("i",{staticClass:"fas fa-print",on:{click:e.printElement}})])]),e._v(" "),s("div",{staticClass:"col basket"},[s("div",{staticClass:"scrollPreview mb-2"},[s("div",{attrs:{id:"preview"}},e._l(e.preview_images,(function(t,a){return e.preview_images.length>0?s("div",{key:t.id,staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-start"},[s("i",{staticClass:"fa fa-times fa-2x red_dark",on:{click:function(s){return e.remove_item(t.id)}}})]),e._v(" "),s("preview_item",{attrs:{url:t.url,width:"100%"}})],1)]):s("div",[e._v("\n                Basket is empty\n              ")])})),0)])])])])]),e._v(" "),e._m(1)])};a._withStripped=!0;var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"img-container"},[s("img",{attrs:{src:"/"+e.url,width:e.width}}),e._v(" "),s("div",{staticClass:"img-text"},[e._t("default")],2)])};i._withStripped=!0;const o={props:{url:{type:String,default:""},width:{type:String,default:"100px"}},name:"preview_item"};s(3799);var n=s(1900),r=(0,n.Z)(o,i,[],!1,null,"7e14b858",null);r.options.__file="src/assets/js/scaling_up_analysis/components/basket/preview_item.vue";const l=r.exports;var c=s(6),d=s(4663);const _={name:"printable_template",inject:["stores"],components:{preview_item:l,drop_drag_area:c.Z,draggable_item:d.Z},data:function(){return{preview_images:[],just_added:!1,ordering_elements:{element_selected:null,element_replaced:null},url:window.Laravel.baseUrl+"/"}},async mounted(){this.basket_events(),await this.load_all()},methods:{basket_events:function(){window.vueBus.$on("add-section-template",(e=>{this.preview_images.push({id:e.id,url:e.item}),this.just_added=!0}))},not_empty:function(){return this.preview_images.length>0},async load_all(){(await this.stores.BasketStore.retrieve_all()).forEach((e=>{this.preview_images.push({id:e.id,url:e.item})}))},remove_item:async function(e){this.preview_images=[],await this.stores.BasketStore.delete(e)&&await this.load_all()},remove_all:async function(){this.preview_images=[],await this.stores.BasketStore.clear()&&await this.load_all()},printElement:async function(e,t=!1,s){window.open(window.Laravel.baseUrl+"admin/imet/v2/scaling_up/preview/"+this.stores.BasketStore.get_scaling_up_id(),"","directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no")},preview_template_window:function(e){return`<div class='container'><div class="row mb-5"><div class="col-sm"><img class="img-fluid" src="${e}"/></div></div></div>`}}};s(4173);var u=(0,n.Z)(_,a,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{display:"none"}},[t("div",{attrs:{id:"template"}})])}],!1,null,"b0a25256",null);u.options.__file="src/assets/js/scaling_up_analysis/components/basket.vue";const m=u.exports},130:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.show_loader?s("div",{staticClass:"spinner-border text-success",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):s("div",[e.error_returned||e.timeout?s("div",{staticClass:"dopa_not_available",domProps:{innerHTML:e._s(e.stores.BaseStore.localization("entities.dopa_not_available"))}}):e.error_wrong?s("div",{staticClass:"dopa_not_available",domProps:{innerHTML:e._s(e.stores.BaseStore.localization("imet-core::analysis_report.error_wrong"))}}):s("div",{staticClass:"container-menu"},[e._t("default",null,{props:e.data})],2)])])};a._withStripped=!0;var i=s(2161);const o={name:"container.vue",inject:["stores"],mixins:[window.ImetCore.ScalingUp.Mixins.ajax],components:{small_menu:i.Z},props:{element:{type:String,default:""},on_load:{type:Boolean,default:!0},load_container:{type:Boolean,default:!0},on_load_even:{type:String,default:null},show_menu:{type:Boolean,default:!1}},data:function(){return{data:{values:{},show_view:!1,loaded_once:!1}}},methods:{success:function(e){!1!==e.status?"object"==typeof e?(this.data.values=e.data,null!==this.on_load_even&&this.$root.$emit("component_loaded")):this.error_returned=!0:this.timeout=!0},toggle_view:async function(){this.data.show_view=!this.data.show_view}}};var n=(0,s(1900).Z)(o,a,[],!1,null,null,null);n.options.__file="src/assets/js/scaling_up_analysis/components/containers/container.vue";const r=n.exports},9609:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"mb-2 mt-1"},[e._t("default",null,{props:e.data})],2),e._v(" "),s("div",{staticClass:"mb-2 mt-2"},[s("div",{staticClass:"mt-3 text-black-50 font-weight-bold generic-comments"},[e._v(e._s(e.title)+" :")]),e._v(" "),s("p",[s("editor",{attrs:{save_data:e.get_data,event_id:e.event_data}})],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("html_to_image",{attrs:{element:e.name,exclude_elements:e.exclude_elements,event_id:e.event_image}})],1)]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success mb-1 float-right exclude-element",attrs:{type:"button"},on:{click:e.save}},[e.loading?s("div",{staticClass:"spinner-border text-success float-right",attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e._e(),e._v(" "),e.loading?e._e():s("span",[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.add_analysis")))])])])])])])};a._withStripped=!0;var i=s(2027),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"text-editor-edit"},[s("ckeditor",{attrs:{editor:e.editor,config:e.editorConfig},on:{input:e.onEditorInput},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1),e._v(" "),s("div",{staticClass:"text-editor-print",domProps:{innerHTML:e._s(e.editorData)}})])};o._withStripped=!0;const n={name:"editor",inject:["state"],components:{ckeditor:window.CKEditor.component},props:{value:"",save_data:{type:Boolean,default:!1},event_id:{type:String,default:"save_comments"}},mounted(){const e=this;this.$parent.$on("save_comments",((t,s,a)=>{s(e.editorData||"",a)}))},watch:{value(e){e!==this.editorData&&(this.editorData=e)}},data:()=>({editor:window.ClassicEditor,editorData:null,editorConfig:{toolbar:["heading","|","bold","italic","link","bulletedList"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading2",view:"h2",title:"Heading",class:"ck-heading_heading2"}]}}}),methods:{onEditorInput(e){this.editorData=e}}};s(1278);var r=s(1900),l=(0,r.Z)(n,o,[],!1,null,"1f9912fc",null);l.options.__file="src/assets/js/scaling_up_analysis/components/editor.vue";const c=l.exports,d={name:"container_actions",components:{html_to_image:i.Z,editor:c},inject:["stores"],props:{name:{type:String,default:null},exclude_elements:{type:String,default:""},event_image:{type:String,default:"save_image"},event_data:{type:String,default:"save_data"},comment_title:{type:String,default:null},data:{type:[Object,Array],default:()=>{}},show_comments:{type:Boolean,default:!0}},mounted(){null===this.comment_title?this.title=this.stores.BaseStore.localization("imet-core::analysis_report.comments"):this.title=this.comment_title},data:()=>({get_data:!1,loading:!1,title:"",values:{image_src:null,comment:null}}),watch:{values:{async handler(e,t){if(e.image_src&&null!=e.comment){const t=await this.stores.BasketStore.save(e);window.vueBus.$emit("add-section-template",t),this.loading=!1}},deep:!0}},methods:{add:function(e,t){this.values[t]=e},save:async function(){this.loading=!0,this.values={image_src:null,comment:null},"save_image"===this.event_image?this.$emit("save_data",this.values,this.add,"image_src"):this.$emit("save_entire_block_as_image",this.values,this.add,"image_src"),this.$emit("save_comments",this.values,this.add,"comment")}}};var _=(0,r.Z)(d,a,[],!1,null,"20caae51",null);_.options.__file="src/assets/js/scaling_up_analysis/components/containers/container_actions.vue";const u=_.exports},6735:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("radar_multiple_values",{attrs:{width:1128,height:500,single:e.single,unselect_legends_on_load:e.unselect_legends_on_load,show_legends:e.show_legends,values:e.values,indicators:e.indicators}})],1)};a._withStripped=!0;var i=s(130);const o={components:{Radar_multiple_values:s(2868).Z},props:{width:{type:Number,default:180},height:{type:Number,default:180},indicators:{type:Array,default:()=>{}},show_legends:{type:Boolean,default:!1},single:{type:Boolean,default:!0},showOnlyScaling:{type:Boolean,default:!1},unselect_legends_on_load:{type:Boolean,default:!1}},mixins:[i.Z],data:function(){return{values:{}}},methods:{success:function(e){this.values=e.diagrams}}};var n=(0,s(1900).Z)(o,a,[],!1,null,null,null);n.options.__file="src/assets/js/scaling_up_analysis/components/containers/container_radars.vue";const r=n.exports},1199:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-container",attrs:{id:e.name}},[s("div",{staticClass:"module-header"},[s("div",{staticClass:"module-title",on:{click:function(t){return e.toggle_view()}}},[s("span",{staticClass:"fas fa-fw carrot",class:{"fa-caret-up":!e.data.show_view,"fa-caret-down":e.data.show_view}}),e._v(" "+e._s(e.title)+"\n    ")])]),e._v(" "),s("div",{staticClass:"module-body bg-white collapse",class:{show:e.data.show_view}},[e._t("default",null,{props:e.data})],2)])};a._withStripped=!0;const i={name:"container_section",inject:["stores","config"],provide:{state:{image_src:"",comment:null}},props:{name:{type:String,default:""},title:{type:String,default:""}},data:function(){return{data:{values:{},show_view:!1,loaded_once:!1,config:this.config,stores:this.stores}}},methods:{toggle_view:async function(){this.data.show_view=!this.data.show_view},is_visible:function(e){return Object.keys(e).length}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"38c69f8e",null);o.options.__file="src/assets/js/scaling_up_analysis/components/containers/container_section.vue";const n=o.exports},7971:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{style:"margin-top: -"+e.margin+"px"},e._l(e.values,(function(t,a){return s("div",{attrs:{id:"radar"+a}},[s("container_actions",{attrs:{data:t,name:"radar"+a,event_image:"save_entire_block_as_image"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"row mt-5",attrs:{id:"upper_lower_"+a}},[s("scaling_radar",{key:"asd_"+a,staticClass:"col-sm",attrs:{width:e.width,height:e.height,single:e.single,unselect_legends_on_load:e.unselect_legends_on_load,show_legends:e.show_legends,values:t.props,indicators:e.indicators,event_key:"up_"+a}})],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm"},[s("datatable_interact_with_radar",{attrs:{values:t.props,columns:e.columns,event_key:"up_"+a}})],1)])]}}],null,!0)})],1)})),0)};a._withStripped=!0;const i={components:{datatable_interact_with_radar:s(3458).Z},props:{width:{type:Number,default:180},height:{type:Number,default:180},indicators:{type:Array,default:()=>{}},show_legends:{type:Boolean,default:!1},single:{type:Boolean,default:!0},showOnlyScaling:{type:Boolean,default:!1},unselect_legends_on_load:{type:Boolean,default:!1},radar:{type:[Array,Object],default:()=>{}}},data:function(){return{values:[],data:{},margin:"0px",columns:[{label:window.Locale.getLabel("imet-core::common.protected_area.protected_area"),field:"name"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.context"),field:"context"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.planning"),field:"planning"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.inputs"),field:"inputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.process"),field:"process"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outputs"),field:"outputs"},{label:window.Locale.getLabel("imet-core::v2_common.steps_eval.outcomes"),field:"outcomes"}]}},mounted(){const e={Average:this.radar.Average,"lower limit":{...this.radar["lower limit"]},"upper limit":{...this.radar["upper limit"]}},t=Object.entries(this.radar);t.length>0&&(this.margin=22*t.length),t.reverse().forEach((([t,s])=>{if(!["Average","lower limit","upper limit"].includes(t)){const a={...e};a[t]=s,this.values.push(a)}}))}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/containers/container_upper_lower_radars.vue";const n=o.exports},5867:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",{attrs:{id:"global_scores"}},[s("tr",e._l(e.columns,(function(t){return s("th",{on:{click:function(s){return e.sort(t.field)}}},[e._v("\n      "+e._s(t.label)+" "),s("i",{class:e.sort_icon(t.field)})])})),0),e._v(" "),e._l(e.items,(function(t,a){return s("tr",e._l(e.columns,(function(a){return s("td",{domProps:{innerHTML:e._s(t[a.field])}})})),0)}))],2)};a._withStripped=!0;const i={name:"datatable.vue",mixins:[window.ModularForms.MixinsVue.filter,window.ModularForms.MixinsVue.sorter,window.ModularForms.MixinsVue.paginate],props:{columns:{type:Array,default:()=>{}},values:{type:Array|Object,default:()=>{}}},data:function(){return{Locale:window.Locale,list:[],pageSize:100,dataSend:[]}},computed:{items(){let e=this.list;return e=this.filterList(e),e=this.sortList(e),e=this.paginateList(e),e}},methods:{sort_icon:function(e=""){return this.sortBy===e&&"asc"===this.sortDir?"fa fa-arrow-up":this.sortBy===e&&["desc",null].includes(this.sortDir)?"fa fa-arrow-down":""},__sorter:function(e){let t=this;return e.sort((function(e,s){let a="asc"===t.sortDir?1:-1,i=t.__getAttribute(e,t.sortBy),o=t.__getAttribute(s,t.sortBy);if(void 0!==i&&void 0!==o)if("string"==typeof i){if(i.toString().toLowerCase()>o.toString().toLowerCase())return a;if(i.toString().toLowerCase()<o.toString().toLowerCase())return-1*a}else{if(i>o)return a;if(i<o)return-1*a}return 0}))}}};var o=s(1900),n=(0,o.Z)(i,a,[],!1,null,null,null);n.options.__file="src/assets/js/scaling_up_analysis/components/datatables/datatable.vue";const r={name:"datatable_custom.vue",mixins:[n.exports],mounted:function(){this.customization()},methods:{customization:function(){let e=[];Object.entries(this.values).forEach((([t,s])=>{const a={};this.columns.forEach((e=>{"undefined"!==s[e.field]&&(e.type&&"percentage"===e.type?a[e.field]=this.percentage(s[e.field],e.color):e.type&&"color"===e.type?a[e.field]=this.colorArea(s[e.field]):e.type&&"bg-color"===e.type?a[e.field]=this.colorArea(s.color,s[e.field]):e.type&&"value_in_area_with_color"===e.type?a[e.field]=this.colorArea(e.color,s[e.field]):a[e.field]=s[e.field])})),e.push(a)})),this.list=e},percentage:function(e,t){return`${e} <br/><div class="progress"><div class="progress-bar " style="width: ${e}%;background-color: ${t}" role="progressbar" aria-valuenow="${e}" aria-valuemin="0" aria-valuemax="100"></div></div>`},colorArea:function(e,t=""){return`<div class="p-3 mb-2 " style="background-color: ${e}">${t}</div>`}}};var l=(0,o.Z)(r,void 0,void 0,!1,null,null,null);l.options.__file="src/assets/js/scaling_up_analysis/components/datatables/datatable_custom.vue";const c=l.exports},3458:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.data.length?s("div",[s("datatable_scaling",{key:e.data.length,attrs:{columns:e.columns,values:e.data}})],1):e._e()};a._withStripped=!0;const i={name:"datatable_interact_with_radar",components:{datatable_scaling:s(3735).Z},props:{values:{type:[Array,Object],default:()=>{}},columns:{type:Array,default:()=>{}},event_key:{type:String,default:""}},data:function(){return{data:[]}},mounted(){this.$root.$on(`radar_data_${this.event_key}`,(e=>{e.selected["lower limit"]=!1,e.selected["upper limit"]=!1,this.parse_data(e.selected)})),this.parse_data()},methods:{parse_data:function(e=null){const t=Object.entries({...this.values}),s=[];t.forEach(((t,a)=>{(null!==e&&e[t[0]]||null===e&&t[1].legend_selected)&&s.push({name:t[0],context:t[1][0]||t[1].context,planning:t[1][5]||t[1].planning,inputs:t[1][4]||t[1].inputs,process:t[1][3]||t[1].process,outputs:t[1][2]||t[1].outputs,outcomes:t[1][1]||t[1].outcomes,imet_index:t[1][6]||t[1].imet_index,color:t[1].color})})),this.data=s}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"07d0722c",null);o.options.__file="src/assets/js/scaling_up_analysis/components/datatables/datatable_interact_with_radar.vue";const n=o.exports},3312:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const a={name:"datatable_interact_with_scatter",mixins:[s(3458).Z],data:function(){return{data:[]}},mounted(){this.$root.$on(`scatter_data_${this.event_key}`,(e=>{this.parse_data(e.selected)})),this.parse_data()},methods:{parse_data:function(e=null){const t=Object.entries({...this.values}),s=[];t.forEach(((t,a)=>{(null===e||null!==e&&e[t[1].name])&&s.push({name:t[1].name,context:t[1].value[0],planning:t[1].value[1],inputs:t[1].value[2]})})),this.data=s}}};var i=(0,s(1900).Z)(a,void 0,void 0,!1,null,"da1e08bc",null);i.options.__file="src/assets/js/scaling_up_analysis/components/datatables/datatable_interact_with_scatter.vue";const o=i.exports},3735:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.average.length?s("div",{staticClass:"row mb-3 mt-1",staticStyle:{"font-size":"12px"}},[s("div",{staticClass:"col-sm align-self-center"},[e._v("\n      "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.average_explained"))+"\n    ")])]):e._e(),e._v(" "),s("table",{attrs:{id:"global_scores"}},[s("tr",e._l(e.columns,(function(t,a){return s("th",{style:0===a?"width:15%;":"width:11%;",on:{click:function(s){return e.sort(t.field)}}},[e._v("\n      "+e._s(t.label.charAt(0).toUpperCase()+t.label.slice(1))+" "),s("i",{class:e.sort_icon(t.field)})])})),0),e._v(" "),e._l(e.items,(function(t,a){return s("tr",e._l(e.columns,(function(a,i){return s("td",{class:0===i?"":e.score_class(t[a.field]),domProps:{innerHTML:e._s(t[a.field])}})})),0)})),e._v(" "),e.average.length>0?s("tr",e._l(e.columns,(function(t,a){return s("td",{class:0===a?"":e.score_class(e.average[0][t.field]),domProps:{innerHTML:e._s(e.itemLabel(e.average[0][t.field]))}})})),0):e._e()],2),e._v(" "),s("div",{staticClass:"row",staticStyle:{"font-size":"12px"}},[s("div",{staticClass:"col-sm text-right"},[e._v("\n      "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.scaling_legend"))+" :\n    ")]),e._v(" "),s("div",{staticClass:"col-sm"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col text-center",class:e.score_class(0)},[e._v("0")]),e._v(" "),s("div",{staticClass:"col text-center",class:e.score_class(10)},[e._v("1-33")]),e._v(" "),s("div",{staticClass:"col text-center",class:e.score_class(34)},[e._v("34-50")]),e._v(" "),s("div",{staticClass:"col text-center",class:e.score_class(51)},[e._v("51-100")])])]),e._v(" "),s("div",{staticClass:"col-sm align-self-center"})])])};a._withStripped=!0;const i={name:"datatable_scaling.vue",inject:["stores"],mixins:[s(5867).Z],data:function(){return{Locale:window.Locale,list:[],pageSize:100,average:[]}},computed:{items(){let e=this.list;if(0===this.average.length&&e.length>0){this.average=e.filter((e=>"Average"===e.name));const t=e.findIndex((e=>"Average"===e.name));t>-1&&e.splice(t,1)}return e=this.filterList(e),e=this.sortList(e),e=this.paginateList(e),e}},mounted(){this.list.sort(((e,t)=>e.name.localeCompare(t.name)))},methods:{itemLabel:function(e){return"Average"===e&&(e="* "+e),e},score_class:function(e,t=""){let s="";return s=0===e?"score_danger":e<34?"score_alert":e<51?"score_warning":"score_success",`${s} ${t}`},score_class_threats:function(e,t=""){let s="";return s=e<-51?"score_danger":e<-34?"score_alert":e<-1?"score_warning":"score_success",`${s} ${t}`}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/datatables/datatable_scaling.vue";const n=o.exports},5564:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.api_data?s("div",{staticClass:"list-key-numbers horizontal"},[null!=e.title?s("div",{staticClass:"list-head"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e._l(e.indicators,(function(t){return s("div",[s("div",{staticClass:"content"},[s("span",[e._v(e._s(t.label))]),e._v(" "),s("span",{staticClass:"number",style:{color:t.color}},[e._v(e._s(e._f("pretty_number")(e.getValue(t),2)))])])])}))],2):e._e()};a._withStripped=!0;const i={props:{title:{type:String,default:null},indicators:{type:[Array],default:()=>null},api_data:{type:[Object],default:()=>null}},filters:{pretty_number:(e,t=0)=>(e=Number(parseFloat(e).toFixed(t)),isNaN(e)?"-":e.toLocaleString("fr-FR"))},methods:{getValue(e){let t=null;return e.hasOwnProperty("fields")?t=this.api_data[e.fields[e.fields.length-1]]:e.hasOwnProperty("field")&&(t=this.api_data[e.field]),parseFloat(t).toFixed(1)}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/dopa_coverage_table.vue";const n=o.exports},4663:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"default-zone-element",class:"item_class",attrs:{id:e.item.id,draggable:""},on:{drop:function(t){return e.onDrop(t,e.item)},dragstart:function(t){return e.start_drag(t,e.item)},dragover:function(t){return e.drag_over(t,e.item)}}},[e._t("default"),e._v(" "),e.is_removable?s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.remove_item(e.item.id)}}}):e._e(),e._v(" "),s("div",{staticClass:"w-50 mx-auto"},[e._v(e._s(e.item.name))])],2)};a._withStripped=!0;const i={name:"draggable_item",props:{item:{type:Object,default:()=>({})},is_removable:{type:Boolean,default:!0},item_class:{type:String,default:"default-zone-element"},remove_event:{type:String,default:"remove-element"}},mounted(){},data:function(){return{}},methods:{onDrop(e,t){this.$root.$emit("drop-item-area",e,t)},drag_over:function(e,t){this.$root.$emit("drag-over",e,t)},start_drag:function(e,t){this.$root.$emit("drag-element",e,t)},drag_end:function(e,t){this.$root.$emit("drag-end",e,t)},remove_item:function(e){this.$root.$emit(this.remove_event,e)}}};s(2380);var o=(0,s(1900).Z)(i,a,[],!1,null,"51b0ed01",null);o.options.__file="src/assets/js/scaling_up_analysis/components/drag_and_drop/draggable_item.vue";const n=o.exports},6:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"drop-zone d-grid gap-1 rounded",style:"background-color:"+e.color,on:{drop:function(t){return e.onDrop(t)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[e._t("default")],2)};a._withStripped=!0;const i={name:"drop_drag_area",props:{drop_id:{type:Number,default:0},visible:{type:Boolean,default:!0},color:{type:String,default:"#f8f9fa"}},data:function(){return{listItems:[]}},methods:{onDrop(e){this.$root.$emit("drop-element",e,this.drop_id)}}};s(3928);var o=(0,s(1900).Z)(i,a,[],!1,null,"3d51b738",null);o.options.__file="src/assets/js/scaling_up_analysis/components/drag_and_drop/drop_drag_area.vue";const n=o.exports},829:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex"},attrs:{id:"general-elements"}},[s("div",[s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.country"))+":\n      ")]),e._v("\n      "+e._s(e.info.countries)+"\n    ")]),e._v(" "),s("div",[[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.network"))+":\n        ")]),e._v("\n        "+e._s(e.info.network)+"\n      ")]],2),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.transbondary_name"))+":\n      ")]),e._v("\n      "+e._s(e.info.landscapes)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.category_protected_area"))+":\n      ")]),e._v("\n      "+e._s(e.info.categories)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.main_values"))+":\n      ")]),e._v("\n      "+e._s(e.info.values_network)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.total_surface_protected"))+":\n      ")]),e._v("\n      "+e._s(e.info.total_surface_protected_areas)+" [km2]\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.total_surface_landscape"))+":\n      ")]),e._v("\n      "+e._s(e.info.total_surface_area_of_landscape_protected_areas)+" [km2]\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.agency"))+":\n      ")]),e._v("\n      "+e._s(e.info.agencies)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.ecoregions"))+":\n      ")]),e._v("\n      "+e._s(e.info.eco_regions)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.vision"))+":\n      ")]),e._v("\n      "+e._s(e.info.LocalVision)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.mission"))+":\n      ")]),e._v("\n      "+e._s(e.info.LocalMission)+"\n    ")]),e._v(" "),s("div",[s("div",{staticClass:"strong"},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.general_info.objectives"))+":\n      ")]),e._v("\n      "+e._s(e.info.LocalObjective)+"\n    ")])])])};a._withStripped=!0;const i={name:"general_info",inject:["stores"],props:{values:{type:[Array,Object],default:()=>{}}},data:function(){return{info:{countries:null,network:null,categories:null,total_surface_protected_areas:null,total_surface_area_of_landscape_protected_areas:null,agencies:null,eco_regions:null,LocalVision:null,LocalMission:null,LocalObjective:null,landscapes:null,values_network:null}}},mounted(){this.init(this.values)},methods:{init:function(e){Object.entries(this.info).forEach((t=>{Array.isArray(e.general_info?.[t[0]])?this.info[t[0]]=e.general_info?.[t[0]]?.filter((e=>e)).join(", "):this.info[t[0]]=e.general_info?.[t[0]]}))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"54bf7418",null);o.options.__file="src/assets/js/scaling_up_analysis/components/general_info.vue";const n=o.exports},5219:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"row",attrs:{id:"js-grouping-action-buttons"}},[s("div",{staticClass:"col-24 mb-2"},[s("button",{staticClass:"btn btn-success mb-1",attrs:{type:"button"},on:{click:e.add_by_country}},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.grouping.add_country")))]),e._v(" "),s("button",{staticClass:"btn btn-danger mb-1",attrs:{type:"button"},on:{click:e.reset}},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.grouping.reset")))]),e._v(" "),e.list_of_components.length<e.list.length?s("button",{staticClass:"btn btn-primary mb-1",attrs:{type:"button"},on:{click:function(t){return e.add_group()}}},[s("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}},[e._v(e._s(e.stores.BaseStore.localization("imet-core::analysis_report.grouping.add_group")))])]):e._e()])]),e._v(" "),s("div",{staticClass:"row start-zone",attrs:{id:"start-zone"},on:{drop:function(t){return e.on_drop(t,null)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},e._l(e.default_list,(function(e){return s("div",{staticClass:"default-zone-element col-2"},[s("draggable_item",{attrs:{is_removable:!1,item:e,item_class:"default-zone-element"}})],1)})),0),e._v(" "),s("div",{staticClass:"row dropzone-areas d-flex ",attrs:{id:"dropzone-areas"}},e._l(e.list_of_components,(function(t){return s("div",{staticClass:"ml-1"},[s("drop_drag_area",{key:t.id,attrs:{drop_id:t.id,color:t.color}},[[s("div",{staticClass:"bg-white text-center mb-1"},[s("span",{staticClass:"text-center "},[e._v(" "+e._s(t.name))]),e._v(" "),s("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"},on:{click:function(s){return e.remove_component_from_list(t.id)}}})]),e._v(" "),e._l(e.list_items(t.id),(function(e){return s("div",[s("draggable_item",{attrs:{item:e}})],1)}))]],2)],1)})),0),e._v(" "),s("div",{staticClass:"row",attrs:{id:"js-render-buttons"}},[s("div",{staticClass:"col-24 mt-5 mb-5"},[s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:e.show_diagrams}},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.grouping.render_radar"))+"\n      ")]),e._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){return e.show_diagrams({func:"get_scatter_grouping_analysis"})}}},[e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.grouping.render_scatter"))+"\n      ")])])]),e._v(" "),s("div",{attrs:{id:"render_image"}},[e.show_selected_legend?s("div",{staticClass:"row mt-5"},e._l(e.list_of_components,(function(t){return s("div",{staticClass:"col legend_radars"},[s("div",{staticClass:"text-center mb-1",style:"background-color:"+t.color},[s("span",{staticClass:"text-center "},[e._v(" "+e._s(t.name)+" ")])]),e._v(" "),s("ul",{staticClass:"list-group"},e._l(e.list_items(t.id),(function(t){return s("li",{staticClass:"list-group-item",domProps:{innerHTML:e._s(t.name)}})})),0)])})),0):e._e(),e._v(" "),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col"},[e._t("default")],2)])])])};a._withStripped=!0;var i=s(6),o=s(4663);const n={components:{drop_drag_area:i.Z,draggable_item:o.Z},name:"grouping",inject:["stores"],props:{values:{type:[Object,Array],default:()=>{}},country_events:{type:[Array,Object],default:()=>{}},number_of_drop_zones:{type:Number,default:1}},data:()=>({list:[],countriesList:[],list_of_components:[],colors:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],show_selected_legend:!1,func_to_call:"get_grouping_analysis"}),mounted:function(){this.list=Object.entries(this.values).map((e=>(this.countriesList.push(e[1].Country_name.name),{id:e[1].FormID,name:e[1].name,list:null,country:e[1].Country_name.name}))),this.countriesList=[...new Set(this.countriesList)],this.init_components(),this.$root.$on("drop-element",((e,t)=>{this.on_drop(e,t)})),this.$root.$on("drag-element",((e,t)=>{this.start_drag(e,t)})),this.$root.$on("remove-element",(e=>{this.remove_from_list(e)}))},computed:{default_list(){return this.list.filter((e=>null===e.list))}},methods:{show_diagrams:function(e=null){this.list.some((e=>null!==e.list))&&(this.$root.$emit("incoming-data",{parameters:this.list.filter((e=>null!==e.list)).map((e=>{let t=`${this.stores.BaseStore.localization("imet-core::analysis_report.grouping.group")} ${e.list}`;return e.by_country&&(t=e.country),{id:e.id,group:e.list,name:t}})),func:e?e.func:this.func_to_call}),this.show_selected_legend=!0)},init_components:function(){this.list_of_components=Array.from({length:this.number_of_drop_zones},((e,t)=>({id:t+1,color:this.colors[t],name:"Group "+(t+1)})))},remove_component_from_list:function(e){this.list_of_components=this.list_of_components.filter(((t,s)=>t.id!==e)),this.reset_list_items(e)},list_items(e=null){return this.list.filter((t=>t.list===e))},reset_list_items(e){this.list.map((t=>(t.list===e&&(t.list=null,t.by_country=null),t)))},start_drag:(e,t)=>{e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("itemID",t.id)},on_drop(e,t){const s=e.dataTransfer.getData("itemID");this.list.find((e=>e.id==s)).list=t},remove_from_list(e){const t=this.list.find((t=>t.id==e));t.list=null,t.by_country=null},add_group:function(e=null){const t=this.list_of_components.length,s=e??`${this.stores.BaseStore.localization("imet-core::analysis_report.grouping.group")} ${t+1}`,a=t?Math.max(...this.list_of_components.map((e=>e.id)))+1:1;this.list_of_components.push({id:a,color:this.colors[a-1],name:s}),this.list_of_components.sort(((e,t)=>e.name.localeCompare(t.name)))},reset:function(){this.list.map((e=>(e.list=null,e.by_country=null,e))),this.stores.BaseStore.toggle_country_enabled(),this.list_of_components=[],this.add_group(),this.add_group(),this.show_selected_legend=!1},add_by_country:function(){this.list_of_components=[];let e=this.list_of_components.length;const t=this.countriesList.length;for(this.stores.BaseStore.toggle_country_enabled(),this.list.map((e=>{const t=this.countriesList.indexOf(e.country);return e.list=t+1,e.by_country=!0,e}));t>e;)this.add_group(this.countriesList[e]),e++}}};s(3219);var r=(0,s(1900).Z)(n,a,[],!1,null,"178e51d2",null);r.options.__file="src/assets/js/scaling_up_analysis/components/grouping.vue";const l=r.exports},9910:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"imet_bar_basics",style:"width:"+e.width+"px; height: "+e.height+"px;"})};a._withStripped=!0;const i={props:{width:{type:Number,default:380},height:{type:Number,default:380},values:{type:Object,default:()=>{}},fields:{type:Array,default:()=>{}},sub_text:{type:String,default:""},text:{type:String,default:""}},data:function(){return{default_colors:["#3ba272","#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#fc8452","#9a60b4","#ea7ccc"],indicators:[]}},computed:{bar_options(){const{render_items:e,legends:t}=this.createData();return{colors:this.default_colors,title:{text:this.text,subtext:this.sub_text},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:t,top:"bottom"},grid:{left:50},xAxis:{type:"value",name:""},yAxis:{type:"category",inverse:!0,data:this.indicators,axisLabel:{formatter:function(e){return e}}},series:e}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{createData:function(e=this.values){const t=[],s=[];return this.fields.forEach(((a,i)=>{this.indicators.push(a.label),a.children.forEach(((a,i)=>{Object.entries(e).reverse().forEach((([e,i])=>{if(a.field===e){t.push(a.label);const e=s.findIndex((e=>e.name===a.label));if(e>-1)s[e].data.push(i);else{const e=this.series_item();e.name=a.label,e.data.push(i),e.color=a.color,s.push(e)}}}))}))})),{render_items:s,legends:t}},series_item:function(){return{type:"bar",name:"",data:[],color:null}},draw_chart(){Object.keys(this.values).length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/imet_basic_bars.vue";const n=o.exports},6212:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vue-cloud"},[e.get_selections()?s("div",{staticClass:"row mb-3 mr-0"},[s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-success float-right",on:{click:e.scaling_up}},[e._v("\n        Scaling up analysis\n      ")])]),e._v(" "),s("div",{staticClass:"col"},[s("actionButton",{attrs:{"class-name":"btn btn-danger float-left",click:e.clear_all,label:"Remove all",event:"remove_values"}})],1)]):e._e(),e._v(" "),s("div",{staticClass:"row mr-0 results-cloud"},e._l(e.selections,(function(t){return s("div",{key:t.id,staticClass:"col-sm-2",on:{click:function(s){return e.remove_item(t)}}},[s("div",{staticClass:"alert alert-warning alert-dismissible",attrs:{role:"alert"}},[e._m(0,!0),e._v(" "),s("strong",[e._v(e._s(t.value))])])])})),0)])};a._withStripped=!0;const i={name:"label-cloud.vue",components:{actionButton:s(919).Z},props:{sourceOfData:{type:String,default:"cookie"},cookieName:{type:String,default:""},fieldId:{type:String,default:"id"},url:{type:String,default:""}},data:()=>({Locale:window.Locale,_token:window.Laravel.csrfToken,modalIsOpen:!1,selections:[],value:[],ids:[]}),mounted:function(){this.values=window.list,this.parse_cookie_data(),this.$root.$on("update_cloud_tags",(e=>{this.is_cookie()&&this.parse_cookie_data()})),this.$root.$on("remove_values",(()=>{this.is_cookie()&&this.clear_all()})),this.$root.$on("scaling_up",(()=>{this.ids=this.selections.map((e=>e[this.fieldId])).join(","),this.url.replace("{items}",this.ids),window.location.href=this.url}))},methods:{get_selections(){return!!this.selections?.length&&this.selections.length>1},scaling_up:function(){this.ids=this.selections.map((e=>e[this.fieldId])).sort(((e,t)=>parseInt(e)-parseInt(t))).join(","),this.ids=this.selections.map((e=>e[this.fieldId])).join(","),window.location.href=this.url.replace("{items}",this.ids)},get_values:function(){return this.get_raw_values()},get_raw_values(){if(this.is_cookie()){const e=window.ModularForms.Mixins.Cookies.getByName(this.cookieName);if(e){const t=e.split("=");return JSON.parse(t[1])}}return null},is_cookie:function(){return"cookie"===this.sourceOfData},initialize(){this.selections=this.get_values()},parse_cookie_data:function(){this.selections=this.get_values()},remove_item:function(e){this.selections=this.selections.filter((t=>t[this.fieldId]!==e[this.fieldId])),this.update()},clear_all:async function(){this.selections=[],this.is_cookie()&&window.ModularForms.Mixins.Cookies.delete(this.cookieName)},update:function(){if(this.is_cookie()){const e=JSON.stringify([...this.selections]);window.ModularForms.Mixins.Cookies.update(this.cookieName,e)}}}};s(9408);var o=(0,s(1900).Z)(i,a,[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])}],!1,null,"37d478c6",null);o.options.__file="src/assets/js/scaling_up_analysis/components/label-cloud.vue";const n=o.exports},3816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"species"}},[s("div",{on:{click:function(t){return e.toggle_species("species")}}},[s("h5",[s("span",{staticClass:"fas fa-fw",class:{"fa-caret-up":!e.show_species,"fa-caret-down":e.show_species}}),e._v("\n      "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.management_context.key_species")))])]),e._v(" "),s("container_actions",{attrs:{data:e.species,name:"species",comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_plants_species"),event_image:"save_entire_block_as_image",exclude_elements:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",[s("elements",{attrs:{values:t.props.group0,title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.animal_species"),comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_animal_species"),show_element:e.show_species}},[[e.show_species&&e.show_group0?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.species_statistics_group0),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_species"),rotate:45,zoom:!0,values:Object.values(e.species_statistics_group0)}})],1):e._e()]],2),e._v(" "),s("elements",{attrs:{values:t.props.group1,title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.plants_species"),show_element:e.show_species}},[[e.show_species&&e.show_group1?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.species_statistics_group1),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_plants"),rotate:45,zoom:!0,values:Object.values(e.species_statistics_group1)}})],1):e._e()]],2)],1)]}}])})],1),e._v(" "),s("div",{attrs:{id:"habitats"}},[s("div",{on:{click:function(t){return e.toggle_species("habitats")}}},[s("h5",[s("span",{staticClass:"fas fa-fw",class:{"fa-caret-up":!e.show_habitats,"fa-caret-down":e.show_habitats}}),e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.management_context.terrestrial_marine_habitats"))+"\n    ")])]),e._v(" "),s("container_actions",{attrs:{data:e.habitats,name:"habitats",event_image:"save_entire_block_as_image",comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_terrestrial"),exclude_elements:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("elements",{attrs:{values:t.props,show_element:e.show_habitats}},[[e.show_habitats?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.habitats_statistics),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_habitats"),rotate:45,zoom:!0,values:Object.values(e.habitats_statistics)}})],1):e._e()]],2)]}}])})],1),e._v(" "),s("div",{attrs:{id:"climate_change"}},[s("div",{on:{click:function(t){return e.toggle_species("climate")}}},[s("h5",[s("span",{staticClass:"fas fa-fw",class:{"fa-caret-up":!e.show_climate,"fa-caret-down":e.show_climate}}),e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.management_context.climate_change"))+" ")])]),e._v(" "),s("container_actions",{attrs:{data:e.climate_change,name:"climate_change",event_image:"save_entire_block_as_image",comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_climate"),exclude_elements:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("elements",{attrs:{values:t.props,show_element:e.show_climate}},[[e.show_climate?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.climate_change_statistics),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_climate"),rotate:60,zoom:!0,values:Object.values(e.climate_change_statistics)}})],1):e._e()]],2)]}}])})],1),e._v(" "),s("div",{attrs:{id:"ecosystem_services"}},[s("div",{on:{click:function(t){return e.toggle_species("ecosystem")}}},[s("h5",[s("span",{staticClass:"fas fa-fw",class:{"fa-caret-up":!e.show_ecosystem,"fa-caret-down":e.show_ecosystem}}),e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.management_context.ecosystem_services"))+"\n    ")])]),e._v(" "),s("container_actions",{attrs:{data:e.ecosystem_services,name:"ecosystem_services",event_image:"save_entire_block_as_image",comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_ecosystem"),exclude_elements:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("elements",{attrs:{values:t.props,show_element:e.show_ecosystem}},[[e.show_ecosystem?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.ecosystem_services_statistics),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_ecosystem_services"),rotate:45,zoom:!0,values:Object.values(e.ecosystem_services_statistics)}})],1):e._e()]],2)]}}])})],1),e._v(" "),s("div",{attrs:{id:"threats"}},[s("div",{on:{click:function(t){return e.toggle_species("threats")}}},[s("h5",[s("span",{staticClass:"fas fa-fw",class:{"fa-caret-up":!e.show_threats,"fa-caret-down":e.show_threats}}),e._v("\n        "+e._s(e.stores.BaseStore.localization("imet-core::analysis_report.management_context.label_threats"))+" ")])]),e._v(" "),s("container_actions",{attrs:{data:e.threats,name:"threats",event_image:"save_entire_block_as_image",comment_title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.comments_threats"),exclude_elements:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("elements",{attrs:{values:t.props,show_element:e.show_threats}},[[e.show_threats?s("div",{staticClass:"mb-3"},[s("bar",{attrs:{fields:Object.keys(e.threats_statistics),title:e.stores.BaseStore.localization("imet-core::analysis_report.management_context.occurrences_threats"),rotate:30,zoom:!0,values:Object.values(e.threats_statistics)}})],1):e._e()]],2)]}}])})],1)])};a._withStripped=!0;var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collapse mt-5",class:{show:e.show_element}},[s("strong",[e._v(e._s(e.title))]),e._v(" "),e._t("default"),e._v(" "),e._l(e.values,(function(t,a){return s("div",{staticClass:"mt-3 ml-3",attrs:{id:"collapse-habitats"}},[s("strong",[e._v(e._s(a))]),e._v(" "),s("ul",e._l(t[0],(function(t,a){return s("li",{key:a},[e._v("\n        "+e._s(t)+"\n      ")])})),0)])}))],2)};i._withStripped=!0;const o={name:"elements",props:{values:{type:[Array,Object],default:()=>{}},show_element:{type:Boolean,default:!1},comment_title:{type:String,default:""},title:{type:String,default:""}}};var n=s(1900),r=(0,n.Z)(o,i,[],!1,null,null,null);r.options.__file="src/assets/js/scaling_up_analysis/components/management_context/elements.vue";const l={components:{elements:r.exports},inject:["stores"],name:"management_context",props:{values:{type:[Array,Object],default:()=>{}}},data:function(){return{Locale:window.Locale,show_species:!1,show_habitats:!1,show_climate:!1,show_ecosystem:!1,show_threats:!1,species:[],climate_change:[],ecosystem_services:[],habitats:[],threats:[],items:[],species_statistics_group0:[],show_group0:!0,show_group1:!0,species_statistics_group1:[],habitats_statistics:[],climate_change_statistics:[],show_bar_climate:!1,show_bar_habitats:!1,show_bar_ecosystem_services:!1,show_bar_threats:!1,ecosystem_services_statistics:[],threats_statistics:[],load_pop_over:!1}},updated:function(){this.load_pop_over||(this.pop_over(),this.load_pop_over=!0)},mounted(){const{species:e,climate_change:t,ecosystem_services:s,habitats:a,threats:i,species_statistics:o,habitats_statistics:n,climate_change_statistics:r,ecosystem_services_statistics:l,threats_statistics:c}=this.values;this.species=e,this.climate_change=t,this.ecosystem_services=s,this.habitats=a,this.threats=i;const d=Object.entries(o.group0),_=Object.entries(o.group1);this.show_group0=d.length,this.show_group1=_.length,this.species_statistics_group0=Object.fromEntries(d),this.species_statistics_group1=Object.fromEntries(_),this.climate_change_statistics=r,this.habitats_statistics=n,this.ecosystem_services_statistics=l,this.threats_statistics=c},methods:{pop_over:function(){$(document).ready((function(){$('[data-toggle="popover"]').popover({html:!0,trigger:"hover",content:function(){return document.getElementById(this.getAttribute("data-popover-content")).querySelector(".popover-body").innerHTML},title:function(){return document.getElementById(this.getAttribute("data-popover-content")).querySelector(".popover-heading").innerHTML}})}))},show_specific_species(e){return this.species[e].length},toggle_species:function(e){this["show_"+e]=!this["show_"+e]},species_count:function(e){const t=this.species_statistics[e];return t>1?` (${t})`:""}}};var c=(0,n.Z)(l,a,[],!1,null,"7c2b747c",null);c.options.__file="src/assets/js/scaling_up_analysis/components/management_context.vue";const d=c.exports},628:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"align-items-center",attrs:{id:"maps"}},[e.no_internet_connection?s("div",{staticClass:"dopa_not_available"},[e._v("\n    "+e._s(e.error_message)+"\n  ")]):s("div",{staticClass:"row",staticStyle:{width:"100%",height:"500px"}},[s("div",{staticClass:"ml-3",staticStyle:{width:"100%",height:"500px"},attrs:{id:"map-load"}})])])};a._withStripped=!0;const i={name:"map_view",inject:["stores"],props:{pa:{type:String,default:()=>{}},url:{type:String,default:""}},data:function(){return{url_map:`${window.Laravel.baseUrl}admin/imet/v2/scaling_up/analysis/coordinates/{param}`,no_internet_connection:!1,error_message:""}},async mounted(){await this.loadMap()},methods:{retrieveCoords:async function(){return await window.axios({method:"POST",url:this.url,data:{_token:window.Laravel.csrfToken,func:"get_protected_area",parameter:this.pa.split(",")}}).then((function(e){return Object.entries(e.data).map((e=>e[1].wdpa_id))})).catch((function(e){return console.log(e),null}))},loadMap:async function(e){const t=await this.retrieveCoords();if(t){let e="mapbox://styles/jamesdavy/cjw25laqe0y311dqulwkvnfoc",s="https://tiles.biopama.org/BIOPAMA_poly",a="2021_July_ACP";window.report_map=new window.mapboxgl.Map({container:"map-load",style:e,center:[15,0],zoom:3,minZoom:0,maxZoom:18,preserveDrawingBuffer:!0}),window.report_map.on("error",(e=>{void 0===e.isSourceLoaded&&(this.no_internet_connection=!0,this.error_message=this.stores.BaseStore.localization("imet-core::analysis_report.error_connection"))})),window.report_map.on("load",(function(){window.report_map.addSource("BIOPAMA_Poly",{type:"vector",tiles:[s+"/{z}/{x}/{y}.pbf"],minZoom:0,maxZoom:12}),window.report_map.addLayer({id:"wdpaBase",type:"fill",source:"BIOPAMA_Poly","source-layer":a,minzoom:1,paint:{"fill-color":["match",["get","MARINE"],["1"],"hsla(173, 21%, 51%, 0.1)","hsla(87, 47%, 53%, 0.1)"]}}),window.report_map.addLayer({id:"wdpaSelected",type:"line",source:"BIOPAMA_Poly","source-layer":a,layout:{visibility:"none"},paint:{"line-color":"#ff0000","line-width":2},transition:{duration:300,delay:0}}),t.unshift("WDPAID"),t.unshift("in"),window.report_map.setFilter("wdpaSelected",t),window.report_map.setLayoutProperty("wdpaSelected","visibility","visible")}))}}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/map_view.vue";const n=o.exports},2161:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"smallMenu",staticStyle:{"min-height":"50px"}},[e.list_names.length>1?s("div",{staticClass:"standalone js-smallMenu",attrs:{id:"smallMenu"}},e._l(e.list_names,(function(t,a){return s("div",{class:e.is_selected(a),domProps:{innerHTML:e._s(t)},on:{click:function(t){return e.scroll_to_section(a)}}})})),0):e._e()])};a._withStripped=!0;const i={name:"small_menu",props:{items:{type:[Object,Array],default:()=>({})},exclude:{type:String,default:""},ids:{type:String,default:""}},data:function(){return{list_names:[],excluded_items:[],selection:null}},mounted(){this.list_items()},methods:{list_items:function(){this.exclude_items();const e=Object.entries(this.items);e.length>0&&e.forEach(((e,t)=>{this.excluded_items.includes(e[0])||this.list_names.unshift(e[0])}))},exclude_items:function(){this.excluded_items=this.exclude.split(",")},scroll_to_section:function(e){document.getElementById(this.ids+e).scrollIntoView({behavior:"smooth"}),this.selection=e},is_selected:function(e){return this.selection===e?"active":""}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/menus/small_menu.vue";const n=o.exports},2789:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.items,(function(t,a){return s("div",{class:e.classDiv,attrs:{id:"image-content"+a}},[s("div",[s("img",{attrs:{src:t,id:a,width:"1024"},on:{load:function(t){return e.imageLoaded(a)}}})])])})),0)};a._withStripped=!0;var i=s(7329);const o={name:"preview_template",props:{scaling_up_id:{type:String,default:""}},data:()=>({items:[],url:window.Laravel.baseUrl+"/",classDiv:"",pixelsPage:0,images:[]}),mounted(){this.printElement()},watch:{images:function(e,t){e.length===this.items.length&&this.isHeightEnough()}},methods:{imageLoaded:function(e){this.images.push(e)},isHeightEnough:function(){this.items.forEach(((e,t)=>{const s=document.getElementById(`${t}`);this.pixelsPage+=s.height,this.pixelsPage>1200&&this.pixelsPage<1500?(document.getElementById("image-content"+t).className="content",this.pixelsPage=0):this.pixelsPage>1500&&(document.getElementById("image-content"+(t-1)).className="content",this.pixelsPage=0)}))},printElement:async function(){const e=new i.Z({scaling_up_id:this.scaling_up_id});(await e.retrieve_all()).forEach((e=>{this.items.push("/"+e.item)}))}}};var n=(0,s(1900).Z)(o,a,[],!1,null,"409d31e0",null);n.options.__file="src/assets/js/scaling_up_analysis/components/preview_template.vue";const r=n.exports},2868:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"imet_radar",style:"width:100%; height: 100%;"})};a._withStripped=!0;const i={name:"radar_multiple_values",props:{width:{type:Number,default:180},height:{type:Number,default:180},values:{type:Object,default:()=>{}},indicators:{type:Array,default:()=>{}},show_legends:{type:Boolean,default:!1},single:{type:Boolean,default:!0},showOnlyScaling:{type:Boolean,default:!1},unselect_legends_on_load:{type:Boolean,default:!1}},data:function(){return{default_colors:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],legend_selected:[]}},computed:{radar_options(){let e=[];return e=this.single?this.singleData():this.multipleData(),{color:this.default_colors,tooltip:{trigger:"axis"},...e.legends,radar:{indicator:e.indicators,radius:"70%",startAngle:90,axisLabel:{show:!0,align:"right"},name:{lineHeight:18,textStyle:{color:"#111",padding:[0,0]}}},series:[{name:"",type:"radar",data:e.render_items}]}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{createItemsForScalingNumbers:function(){const e=[];if(this.showOnlyScaling){const t=this.indicators.length;this.indicators.forEach(((s,a)=>{const i=this.radar_item();i.value=new Array(t).fill(0),i.value[0]=20*a,i.lineStyle.color="rgba(255, 255, 255, 0)",e.push(i)}))}return e},setIndicators:function(){return this.indicators?.length?this.indicators.map(((e,t)=>({text:e.replace(" ","\n"),max:100}))):[]},colors:function(e){return e},legends:function(e=null){return e?{legend:{formatter:function(e){return"Average"===e?`* ${e}`:e},data:e,padding:[5,5,10,5]}}:null},setLegends:function(){const e=[];return Object.entries(this.values).reverse().forEach((([t,s])=>{e.push({name:t})})),this.legends(e)},singleData:function(){const e=[],t=this.radar_item(),s=[];return Object.entries(this.values).reverse().forEach(((e,a)=>{s.push({text:e[0].replace(" ","\n"),max:100}),t.value.push(e[1])})),e.push(t),{render_items:e,legends:[],indicators:s}},multipleData:function(){let e=[],t=[];const s=[];return e=this.setIndicators(),this.show_legends&&(t=this.setLegends(this.values)),Object.entries({...this.values}).reverse().forEach(((e,t)=>{const a=this.radar_item(),i=e.shift();a.name=i,Object.entries(e).forEach((([e,t])=>{t===Object(t)&&(this.showOnlyScaling&&(a.label.normal.show=t.label_show??!0),a.symbolSize=0,a.lineStyle.type=t?.lineStyle,a.lineStyle.width=t?.width,a.lineStyle.color=t?.color,a.itemStyle.color=t?.color,t.legend_selected&&this.legend_selected.push(i),a.tooltip={trigger:"item"},t=Object.values(t)),a.value=t})),s.push(a)})),s.push(...this.createItemsForScalingNumbers()),{render_items:s,legends:t,indicators:e}},radar_item:function(){return{value:[],name:"",itemStyle:{color:null},lineStyle:{type:"solid",color:null},label:{normal:{fontWeight:"bold",color:"#222",show:!0}}}},draw_chart(){Object.keys(this.values).length>1&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.radar_options),this.unselect_legends_on_load&&this.unselect_all_legends(this.radar_options?.legend?.data))},unselect_all_legends:function(e){const t=this;e.forEach((e=>{t.legend_selected.includes(e.name)||t.chart.dispatchAction({type:"legendUnSelect",name:e.name})}))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/radar_multiple_values.vue";const n=o.exports},769:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"bar",staticStyle:{"min-height":"200px"}})};a._withStripped=!0;const i={name:"scaling_dopa_chart_bar",mixins:[window.ImetCore.ScalingUp.Mixins.resize,window.ModularForms.Dopa.chart_bar],methods:{draw_chart(){if(null!==this.data){let e=this.set_options();this.chart=echarts.init(this.$el),this.chart.setOption(e)}}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"303dea8e",null);o.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/scaling_dopa_chart_bar.vue";const n=o.exports},934:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"doughnut card-chart mt-5",staticStyle:{"min-height":"300px"}})};a._withStripped=!0;const i={name:"scaling_dopa_chart_doughnut",mixins:[window.ImetCore.ScalingUp.Mixins.resize,window.ModularForms.Dopa.chart_doughnut],methods:{draw_chart(){let e=this.set_options();this.chart=echarts.init(this.$el),this.chart.setOption(e)}}};s(6127);var o=(0,s(1900).Z)(i,a,[],!1,null,"79452bd2",null);o.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/scaling_dopa_chart_doughnut.vue";const n=o.exports},5360:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"imet_radar",style:"width:100%; min-height: "+e.height+"px;"})};a._withStripped=!0;var i=s(2868);const o={name:"scaling_radar",props:{event_key:{type:String,default:""}},mixins:[window.ImetCore.ScalingUp.Mixins.resize,i.Z],methods:{draw_chart:function(){Object.keys(this.values).length>1&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.radar_options),this.chart.on("legendselectchanged",(e=>{this.$root.$emit(`radar_data_${this.event_key}`,e)})),this.unselect_legends_on_load&&this.unselect_all_legends(this.radar_options?.legend?.data))}}};var n=(0,s(1900).Z)(o,a,[],!1,null,null,null);n.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/scaling_radar.vue";const r=n.exports},5174:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"scatter",style:"width:"+e.width+"; height: "+e.height+";"})};a._withStripped=!0;const i={name:"scatter",mixins:[window.ImetCore.ScalingUp.Mixins.resize],props:{width:{type:String,default:"100%"},label_axis_x:{type:String,default:""},label_axis_y:{type:String,default:""},label_axis_y2:{type:String,default:""},height:{type:String,default:"800px"},values:{type:[Array,Object],default:()=>{}},event_key:{type:String,default:""}},computed:{bar_options(){return{grid:{width:"80%",height:"80%"},title:{text:this.title,left:"center"},legend:{...this.get_legends()},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{splitLine:{show:!0},nameLocation:"middle",name:this.label_axis_x,min:0,max:100,nameGap:-30},yAxis:[{splitLine:{show:!0},scale:!0,nameLocation:"middle",name:this.label_axis_y,min:0,max:100,nameGap:-30},{splitLine:{show:!1},scale:!0,min:0,max:100,show:!0,name:this.label_axis_y2,nameLocation:"middle",nameGap:-30}],...this.series()}}},data:()=>({data:[]}),watch:{data:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.data=this.values},methods:{draw_chart(){this.data.length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options),this.chart.on("legendselectchanged",(e=>{this.$root.$emit(`scatter_data_${this.event_key}`,e)})))},get_legends(){const e=[];return this.data.forEach((t=>{e.push({name:t.name,itemStyle:{color:t.itemStyle.borderColor}})})),{data:e.sort(((e,t)=>e.name>t.name?1:-1))}},series:function(){const e=[];return this.data.forEach((t=>{e.push({tooltip:{show:!1},data:[t],type:"scatter",name:t.name,symbol:"rect",symbolSize:function(e){return 5*Math.sqrt(e[2])},emphasis:{focus:"self"},label:{formatter:function(e){return e.data.name}}})})),{series:e}}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/scatter.vue";const n=o.exports},9836:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"treemap",style:"width:"+e.width+"; height: "+e.height+";"})};a._withStripped=!0;const i={name:"treemap",mixins:[window.ImetCore.ScalingUp.Mixins.resize],props:{width:{type:String,default:"100%"},height:{type:String,default:"500px"},values:{type:[Array,Object],default:()=>{}},title:{type:String,default:""}},computed:{bar_options(){return{title:{text:this.title,left:"center"},series:[{type:"treemap",data:this.data_fix()}]}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{data_fix:function(){return this.values.map((e=>({name:e.label,value:e.area,itemStyle:{color:e.color}})))},draw_chart(){Object.keys(this.values).length>0&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.bar_options))}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"220d27b2",null);o.options.__file="src/assets/js/scaling_up_analysis/components/various_charts/treemap.vue";const n=o.exports},2027:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this.$createElement;return(this._self._c||e)("div")};a._withStripped=!0;const i={name:"html_to_image",inject:["stores"],props:{element:{type:String,default:""},exclude_elements:{type:String,default:null},event_id:{type:String,default:"save_image"}},data:function(){return{random_element:"",unique_key:null}},async mounted(){const e=this;this.create_random_element(),this.$parent.$on("save_entire_block_as_image",(async(t,s,a)=>{await e.html_to_image(1024,s,a)}))},methods:{show_editor:function(e){e.querySelectorAll(".text-editor-edit").forEach((e=>e.style.display="block")),e.querySelectorAll(".text-editor-print").forEach((e=>e.style.display="none"))},hide_editor:function(e){e.querySelectorAll(".text-editor-edit").forEach((e=>e.style.display="none")),e.querySelectorAll(".text-editor-print").forEach((e=>{e.innerText.length>0&&(e.style.display="block")}))},html_to_image:async function(e=1024,t,s){const a=document.getElementById(this.random_element);window.element=a,this.show_hide_excluded_elements(),this.hide_editor(a),window.htmlToImage.toPng(document.getElementById(this.random_element),{canvasWidth:1024,filter:e=>{const t=e?.className;return e?.id,"string"!=typeof t||!["add_item","carrot","generic-comments","exclude-element","dropzone-areas","js-smallMenu"].some((e=>t.includes(e)))}}).then((async function(e){t(e,s)})).catch((e=>{})).finally((()=>{this.show_editor(a),this.show_hide_excluded_elements("block")}))},create_random_element:function(){this.element?this.random_element=this.element:this.random_element=`elem_${Math.floor(1e3*Math.random())}`},show_hide_excluded_elements:function(e="none"){if(this.exclude_elements.length>0){const t=this.exclude_elements.split(",");t.length>0&&t.forEach((t=>{console.log({el:t}),document.getElementById(t).style.display=e}))}}}};var o=(0,s(1900).Z)(i,a,[],!1,null,null,null);o.options.__file="src/assets/js/scaling_up_analysis/tools/html_to_image.vue";const n=o.exports},4544:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[e.show_histogram?s("div",{staticClass:"imet_histogram"},e._l(e.values,(function(t){return s("div",{staticClass:"imet_histogram__row"},[s("div",{staticClass:"text-left imet_histogram__label"},[e._v(e._s(t.label))]),e._v(" "),s("div",{staticClass:"text-left imet_histogram__value"},[s("b",[null!==t.value?s("span",[e._v(e._s(t.value))]):e._e()])]),e._v(" "),s("div",{staticClass:"imet_histogram__progress_bar"},[s("progress_bar",{attrs:{value:t.value,color:t.color}})],1)])})),0):e._e(),e._v(" "),s("div",{staticClass:"imet_radar"},[s("imet_radar",{attrs:{values:e.radar_values,width:380,height:250}})],1)])};a._withStripped=!0;const i={components:{progress_bar:s(5711).Z},props:{form_id:{type:[Number,String],default:null},input_data:{type:[Object],default:()=>null},labels:{type:[Object],default:()=>null},show_histogram:{type:Boolean,default:!0},steps:{type:Array,default:()=>["context","planning","inputs","process","outputs","outcomes"]},colors:{type:Array,default:()=>["#FFFF00","#BFBFBF","#FFC000","#00B0F0","#92D050","#00B050"]}},data:function(){return{chart:null,api_data:null}},beforeMount(){null!==this.input_data&&(this.api_data=this.input_data)},mounted(){let e=this;null===this.api_data&&this.retrieve_api(),window.vueBus.$on("refresh_assessment",(function(){e.retrieve_api()}))},computed:{version(){return null!==this.api_data?this.api_data.version:null},values(){let e=this,t=[];return this.steps.forEach((function(s,a){t.push({label:e.get_label(a),value:e.get_key_from_api(s),color:e.colors[a]})})),t},radar_values(){let e={};return this.values.length>0&&Object.entries(this.values).forEach((function([t,s]){e[s.label]=parseFloat(s.value).toFixed(1)})),e}},methods:{get_label(e){return null!==this.api_data?this.labels[this.version].full[e]:null},get_key_from_api(e){return null!==this.api_data&&this.api_data.hasOwnProperty(e)&&null!==this.api_data[e]?this.api_data[e].toFixed(1):null},retrieve_api:function(){let e=this;null!==e.form_id&&window.axios({url:window.Laravel.baseUrl+"api/imet/assessment/"+e.form_id,type:"get"}).then((function(t){e.api_data=t.data}))}}};s(1034);var o=(0,s(1900).Z)(i,a,[],!1,null,"02895ee8",null);o.options.__file="src/assets/js/templates/imet_charts.vue";const n=o.exports},5832:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"imet_responsible"},[e.to_be_shown.internal.length>0?s("div",[s("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.responsible_internal")))]),e._v(":"),s("br"),e._v(" "),s("ul",e._l(e.to_be_shown.internal,(function(t){return s("li",[e._v(e._s(t.Name)+" "),t.Institution?s("span",[s("i",[e._v("("+e._s(t.Institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.to_be_shown.external.length>0?s("div",[s("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.responsible_external")))]),e._v(":\n        "),s("ul",e._l(e.to_be_shown.external,(function(t){return s("li",[e._v(e._s(t.Name)+" "),t.Institution?s("span",[s("i",[e._v("("+e._s(t.Institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.to_be_shown.encoders.length>0?s("div",[s("b",[e._v(e._s(e.Locale.getLabel("imet-core::common.encoders")))]),e._v(":\n        "),s("ul",e._l(e.to_be_shown.encoders,(function(t){return s("li",[e._v(e._s(t.name)+" "),t.institution?s("span",[s("i",[e._v("("+e._s(t.institution)+")")])]):e._e()])})),0)]):e._e(),e._v(" "),e.total_count>e.max_visible&&!e.showHidden?s("button",{staticClass:"btn-nav small",on:{click:e.toggleShown}},[s("i",{staticClass:"fas fa-plus-square"}),e._v(" "+e._s(e.Locale.getLabel("modular-forms::common.view_all")))]):e._e(),e._v(" "),e.showHidden?s("button",{staticClass:"btn-nav small",on:{click:e.toggleShown}},[s("i",{staticClass:"fas fa-minus-square"}),e._v(" "+e._s(e.Locale.getLabel("modular-forms::common.hide")))]):e._e()])};a._withStripped=!0;const i={props:{max_visible:{type:Number,default:4},items:{type:[String,Object],default:()=>({internal:[],external:[],encoders:[]})}},data:function(){return{Locale:window.Locale,showHidden:!1}},computed:{total_count(){return this.items.internal.length+this.items.external.length+this.items.encoders.length},to_be_shown(){let e=this,t={internal:[],external:[],encoders:[]},s=0;return this.items.internal.forEach((function(a){(s<e.max_visible||e.showHidden)&&t.internal.push(a),s++})),this.items.external.forEach((function(a){(s<e.max_visible||e.showHidden)&&t.external.push(a),s++})),this.items.encoders.forEach((function(a){(s<e.max_visible||e.showHidden)&&t.encoders.push(a),s++})),t}},methods:{toggleShown(){this.showHidden=!this.showHidden}}};var o=(0,s(1900).Z)(i,a,[],!1,null,"95b11e3c",null);o.options.__file="src/assets/js/templates/imet_encoders_responsibles.vue";const n=o.exports},5711:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pgr-bar"},[e.showLimits?s("div",{staticClass:"pgr-bar__limit-left"},[e._v(e._s(e.min)+"%")]):e._e(),e._v(" "),s("div",{staticClass:"pgr-bar__bar progress"},[s("div",{staticClass:"progress-bar progress-bar-striped",style:e.style,attrs:{role:"progressbar"}},[null!==e.value?s("span",[e._v(e._s(e.value)+" %")]):e._e()])]),e._v(" "),e.showLimits?s("div",{staticClass:"pgr-bar__limit-right"},[e._v(e._s(e.max)+"%")]):e._e()])};a._withStripped=!0;const i={name:"progress_bar",props:{value:{value:Number,default:0},color:{value:String,default:"#ccc"},showLimits:{value:Boolean,default:!0},min:{value:Number,default:0},max:{value:Number,default:100}},computed:{width(){return Math.abs(this.value)},style(){return"width: "+this.width+"%; backgroundColor: "+this.color+" !important;"}}};s(925);var o=(0,s(1900).Z)(i,a,[],!1,null,"6acae958",null);o.options.__file="src/assets/js/templates/imet_progress_bar.vue";const n=o.exports},568:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"imet_radar",style:"width:"+e.width+"px; height: "+e.height+"px;"})};a._withStripped=!0;const i={props:{width:{type:Number,default:180},height:{type:Number,default:180},values:{type:Object,default:()=>{}}},computed:{radar_options(){let e=[],t=[];return Object.entries(this.values).reverse().forEach((function([s,a]){e.push(a),t.push({text:s.replace(" ","\n"),max:100})})),{tooltip:{trigger:"axis"},radar:{indicator:t,radius:"65%",startAngle:150,name:{textStyle:{color:"#111",padding:[0,0]}}},series:[{type:"radar",data:[{value:e,itemStyle:{color:"#7CB5EC"},areaStyle:{color:"#7CB5EC",opacity:.4},symbolSize:6,name:"imet_radar",label:{normal:{fontWeight:"bold",color:"#222",show:!0,formatter:function(e){return e.value}}}}]}]}}},watch:{values:{deep:!0,handler(){this.draw_chart()}}},mounted(){this.draw_chart()},methods:{draw_chart(){Object.keys(this.values).length>1&&(this.chart=echarts.init(this.$el),this.chart.setOption(this.radar_options))}}};s(5532);var o=(0,s(1900).Z)(i,a,[],!1,null,"f8a1467a",null);o.options.__file="src/assets/js/templates/imet_radar.vue";const n=o.exports},1900:(e,t,s)=>{"use strict";function a(e,t,s,a,i,o,n,r){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):i&&(l=r?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var _=c.beforeCreate;c.beforeCreate=_?[].concat(_,l):[l]}return{exports:e,options:c}}s.d(t,{Z:()=>a})},435:(e,t,s)=>{var a=s(3669);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("745e047a",a,!1,{})},6865:(e,t,s)=>{var a=s(2976);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("39f87c67",a,!1,{})},7136:(e,t,s)=>{var a=s(1571);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("3a89b62c",a,!1,{})},4173:(e,t,s)=>{var a=s(536);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("6b8d81ac",a,!1,{})},3799:(e,t,s)=>{var a=s(3973);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("6f547b19",a,!1,{})},2380:(e,t,s)=>{var a=s(2669);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("dd0ab5fe",a,!1,{})},3928:(e,t,s)=>{var a=s(9293);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("3f917884",a,!1,{})},1278:(e,t,s)=>{var a=s(5336);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("335633d9",a,!1,{})},3219:(e,t,s)=>{var a=s(5302);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("6806c3ca",a,!1,{})},9408:(e,t,s)=>{var a=s(6194);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("91371998",a,!1,{})},6127:(e,t,s)=>{var a=s(2635);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("4922ce14",a,!1,{})},1034:(e,t,s)=>{var a=s(3459);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("0d5d5416",a,!1,{})},925:(e,t,s)=>{var a=s(4293);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("ea923a9a",a,!1,{})},5532:(e,t,s)=>{var a=s(5782);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("51bce251",a,!1,{})},5346:(e,t,s)=>{"use strict";function a(e,t){for(var s=[],a={},i=0;i<t.length;i++){var o=t[i],n=o[0],r={id:e+":"+i,css:o[1],media:o[2],sourceMap:o[3]};a[n]?a[n].parts.push(r):s.push(a[n]={id:n,parts:[r]})}return s}s.d(t,{Z:()=>p});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},n=i&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,c=!1,d=function(){},_=null,u="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,s,i){c=s,_=i||{};var n=a(e,t);return h(n),function(t){for(var s=[],i=0;i<n.length;i++){var r=n[i];(l=o[r.id]).refs--,s.push(l)}for(t?h(n=a(e,t)):n=[],i=0;i<s.length;i++){var l;if(0===(l=s[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var s=e[t],a=o[s.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](s.parts[i]);for(;i<s.parts.length;i++)a.parts.push(v(s.parts[i]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{var n=[];for(i=0;i<s.parts.length;i++)n.push(v(s.parts[i]));o[s.id]={id:s.id,refs:1,parts:n}}}}function f(){var e=document.createElement("style");return e.type="text/css",n.appendChild(e),e}function v(e){var t,s,a=document.querySelector("style["+u+'~="'+e.id+'"]');if(a){if(c)return d;a.parentNode.removeChild(a)}if(m){var i=l++;a=r||(r=f()),t=w.bind(null,a,i,!1),s=w.bind(null,a,i,!0)}else a=f(),t=y.bind(null,a),s=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else s()}}var g,b=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,s,a){var i=s?"":a.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(o,n[t]):e.appendChild(o)}}function y(e,t){var s=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),_.ssrId&&e.setAttribute(u,t.id),i&&(s+="\n/*# sourceURL="+i.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,s),o.exports}s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(2978),s(435)})();