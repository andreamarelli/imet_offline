@import "../abstracts/all";
@import "../vendor/leaflet";

// #######  Mapping  ########
#platform_map_container{
  position: relative;
  height: 500px;
  width: 100%;

  #platform_map{
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }
  .loading-spinner {
    position: absolute;
    top: 220px;
    left: 50%;
    z-index: 1000;
  }
}

// #########  other components  #########
.element-rounded{
  width:auto;
  padding:10px 30px;
  border: 1px solid $lighterGray;
  font-size: 1.2em;
  line-height: 21px;
  border-radius: 20px;
}

// #########  Colors  #########
$color-aires:       $palette-1;
$color-domaines:    $palette-2;
$color-financements:$palette-3;
$color-convergence: $palette-4;
$color-zone:        $palette-5;
$color-devise:      $palette-6;
$color-bailleurs:   $palette-7;
$color-agences:     $palette-8;
$color-pays:        $palette-9;

.color-bailleurs{
  color: $color-bailleurs!important;
}
.color-agences{
  color: $color-agences!important;
}
.color-pays{
  color: $color-pays!important;
}
.color-aires{
  color: $color-aires!important;
}
.color-domaines{
  color: $color-domaines!important;;
}
.color-financements{
  color: $color-financements!important;
}
.color-convergence{
  color: $color-convergence!important;
}
.color-zone{
  color: $color-zone!important;
}

.color-devise{
  color: $color-devise!important;
}


.border-color-bailleurs{
  border-color: $color-bailleurs!important;
}
.border-color-agences{
  border-color: $color-agences!important;
}
.border-color-pays{
  border-color: $color-pays!important;
}
.border-color-aires{
  border-color: $color-aires!important;
}
.border-color-domaines{
  border-color: $color-domaines!important;;
}
.border-color-financements{
  border-color: $color-financements!important;
}
.border-color-convergence{
  border-color: $color-convergence!important;
}
.border-color-zone{
  border-color: $color-zone!important;
}

.border-color-devise{
  border-color: $color-devise!important;
}

.bg-color-bailleurs{
  background-color: $color-bailleurs!important;
}
.bg-color-agences{
  background-color: $color-agences!important;
}
.bg-color-pays{
  background-color: $color-pays!important;
}
.bg-color-aires{
  background-color: $color-aires!important;
}
.bg-color-domaines{
  background-color: $color-domaines!important;
}
.bg-color-financements{
  background-color: $color-financements!important;
}
.bg-color-convergence{
  background-color: $color-convergence!important;
}
.bg-color-zone{
  background-color: $color-zone!important;
}

.bg-color-devise{
  background-color: $color-devise!important;
}

header#header #menu {
  z-index: 1002;
}

// #########  Tab menu & filters  #########
#subMenu, #subMenuFilters, #filters-selected{
  width: 100%;
  text-align: center;
  > ul {
    padding: 0;
    display: inline-block;
    margin: 0 0 0 auto;
    width: auto;
    text-align: center;
    list-style: none;
    > li {
      float: left;
      margin-right: 0;
    }
  }
}

#subMenu{
  background-color: $darkGreen;
  font-family: $fontFamily-2;
  font-size: 1.15em;
  height: 52px;
  > ul {
    > li {
      border-right:1px solid lighten($darkGreen, 5%);
      &:first-child{
        border-left:1px solid lighten($darkGreen, 5%) ;
      }
      a {
        display: flex;
        text-transform: capitalize;
        color: $white;
        font-weight: normal;
        padding: 10px 30px;
        height: 52px;
        span{
          margin-top: 5px;
        }
        i{
          margin-right: 15px;
          &:before{
            background-color: $white;
          }
        }
        &:hover,
        &:focus{
          background-color: $darkGreen;
        }
      }
    }
  }
}

#subMenuFilters{
  height: 52px;
  position: relative;
  //z-index:3;
  z-index: 1000;
  //margin-bottom: 3px;
  > ul {
    > li {
      font-size: 11px;
      line-height: 18px;
      position: relative;

      a.country{
        position: relative;
        font-size: 2em;
        float: left;
        padding: 15px 15px;
        &.comifac{
          padding: 6px 15px;
        }
        img{
          height: 40px;
        }
        &:hover{
          text-decoration: none;
        }
      }

      >span{
        background: white;
        //z-index:3;
        z-index: 1000;
        text-transform: uppercase;
        padding: 16px 15px;
        border-bottom: 3px solid $darkGreen;
        float:left;
        position: relative;
        &.submit{
          padding: 11px 15px;
        }
      }
      > div.dropdown {
        display: none;
        padding-top: 52px;
        position: absolute;
        width: 200px;
        margin-left: -100px;
        left: 50%;
        z-index: 2;
        > div {
          background-color: white;
          padding: 30px 10px;
          border-bottom: 3px solid $darkGreen;
          float: left;
          width: 100%;
          -webkit-box-shadow: 0 4px 21px -4px rgba(0, 0, 0, 0.2);
          -moz-box-shadow: 0 4px 21px -4px rgba(0, 0, 0, 0.2);
          box-shadow: 0 4px 21px -4px rgba(0, 0, 0, 0.2);
        }
      }
      &:hover{
        cursor: pointer;
      }

    }
  }


}

#filters-selected{
  li{
    padding:10px 15px;
    font-size:10px;
    line-height: 18px;
    border-right: 1px solid $lighterGray;
    > span:first-child {
      text-transform: uppercase;
    }

    &:first-child{
      border-left: 1px solid $lighterGray;
      > span:first-child {
        text-transform: none;
      }
    }
  }
}

// ######################################
// ###############  MAIN  ###############
// ######################################
#project_platform_map{

  // ###  map  ###
  .map-popup {
    table {
      tr {
        border-bottom: solid 0.5px $lighterGray;
        td:first-child {
          font-weight: bold;
        }
        th{
          text-transform: capitalize;
        }
      }
    }
  }

  // ### key numbers  ###
  #infos{
    clear: both;
    background-color: $lightBlue;
    width: 100%;
    padding: 10px 0 10px 0;
    .wrap{
      display: flex;
      justify-content: space-between;
      text-align: center;
      .infos-icon{
        background-size: cover;
        width:100px;
        height:100px;
        border-radius: 50%;
        margin: 10px auto;
      }
      h4{
        color: $white;
      }
      span{
        color: $white;
        font-size: 1.6em;
      }
    }
  }

  // ###  top 5  ###
  #top5{

    text-align: center;
    margin: 0 40px;

    h3.element-rounded{
      width: auto;
      display: inline-block;
      border-color: $darkGreen;
      color: $darkGreen;
      margin: 60px auto;
      padding: 10px 30px;
      text-transform: uppercase;
    }

    .fiveTop{
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      .item{
        padding: 10px;
        width: 33.3333%;
        display: inline-block;
        .content{
          padding: 20px;
          height: 500px;
          background-size: cover;
          background-position: center;
          box-shadow: 0 0 21px -4px rgba(0, 0, 0, 0.4);
          position: relative;
          text-align: left;
          &:after {
            content: "";
            background: linear-gradient(transparent, black);
            position: absolute;
            bottom: 0;
            left: 0;
            height: 180px;
            width: 100%;
            opacity: 0.5;
          }
          h3{
            font-size: 1.9em;
            margin: 0;
            position: absolute;
            bottom: 60px;
            z-index: 1;
          }
          div.buttons{
            position: absolute;
            bottom: 20px;
            z-index: 1;
            .tag{
              border-width: 1px;
              &:hover{
                cursor: pointer;
                color: $darkestGray;
                background-color: white;
              }
            }
          }
        }

        &.item-bailleurs{
          h3{
            color: $color-bailleurs;
          }
          .tag{
            color: $color-bailleurs;
            border-color: $color-bailleurs;
          }
          .collapse{
            color:darken($color-bailleurs, 20%);
            h4{
              border-top:5px solid darken($color-bailleurs, 20%);
            }
          }
        }
        &.item-agences{
          h3{
            color: $color-agences;
          }
          .tag{
            color: $color-agences;
            border-color: $color-agences;
          }
          .collapse {
            color: darken($color-agences, 20%);
            h4 {
              border-top: 5px solid darken($color-agences, 20%);
            }
          }
        }
        &.item-pays{
          h3{
            color: $color-pays;
          }
          .tag{
            color: $color-pays;
            border-color: $color-pays;
          }
          .collapse{
            color:darken($color-pays, 20%);
            h4{
              border-top:5px solid darken($color-pays, 20%);
            }
          }
        }
        &.item-aires{
          h3{
            color: $color-aires;
          }
          .tag{
            color: $color-aires;
            border-color: $color-aires;
          }
          .collapse{
            color:darken($color-aires, 20%);
            h4{
              border-top:5px solid darken($color-aires, 20%);
            }
          }
        }
        &.item-domaines{
          h3{
            color: $color-domaines;
          }
          .tag{
            color: $color-domaines;
            border-color: $color-domaines;
          }
          .collapse{
            color:darken($color-domaines, 20%);
            h4{
              border-top:5px solid darken($color-domaines, 20%);
            }
          }
        }

        .collapse{
          display:none;
          float:left;

          >div{
            float:left;
            width: 100%;
            opacity:0;
            display:none;
            -webkit-box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
            -moz-box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
            box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
            max-height: 500px;
            overflow: auto;
            >h4{
              padding: 10px 20px;
              font-size:12px;
              line-height: 18px;
              text-transform: uppercase;
              margin-top:0;

            }
            ul{
              list-style: none;
              padding: 0;
              li{
                border-bottom: 1px solid $lightestGray;
                padding:10px 20px;
                float:left;
                width: 100%;
                >div{
                  &:first-child{
                    float:left;
                    &:hover{
                      cursor: pointer;
                    }
                  }
                  &.tooltip{
                    .tooltip-inner{
                      background-color: white;
                      -webkit-box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
                      -moz-box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
                      box-shadow: 0 0 21px -4px rgba(0,0,0,0.4);
                      color: $black;
                    }
                    .tooltip-arrow{
                      border-right-color:white;
                    }

                  }
                  &:last-child{
                    float:right;
                  }
                }
              }
            }
          }
        }

      }
    }

  }

  // ###  text bottom  ###
  #text-bottom {

    float:left;
    width: 100%;
    padding-bottom: 200px;
    background-color: white;
    text-align: center;

    >div{
      max-width: 1600px;
      margin: 0 auto;
      float:none;
      display: inline-block;
    }
    .img-txt-hover{
      position: relative;
      text-align: left;

      >div{

        &.img{
          margin-top: 60px;
          @media all and (max-width: 991px){
            padding:0px ;
          }
          img{
            float:left;
            width: 100%;
          }
        }
        &.txt{
          h4{
            color: $darkGreen;
            font-size:28px;
            line-height: 38px;
            font-weight: 300;
          }
          p{
            margin-top:40px;
            padding: 0 0px;
          }
          float:right;
          margin-top: -180px;
          margin-right: 60px;
          padding: 40px;
          background-color: white;
          border-top: 5px solid $darkGreen;
          @media all and (max-width: 991px){
            margin-top: 0px;
            margin-right: 0px;
          }

        }
      }

      .btn-bottom{
        padding: 0px;
        margin-top: 30px;
      }

    }

    .txt-only{
      padding: 60px 10%;
      text-align: left;
      margin: 60px 0px;
      >div{
        background-color: $lightestGray;
        border-radius: 15px;
        float:left;
        width: 100%;
        padding: 40px;
        h4{
          color: $darkGreen;
          font-size:28px;
          line-height: 38px;
          font-weight: 300;
        }
        p{
          margin-top:40px;
          padding: 0 0px;
        }
      }

    }
  }

}


// ######################################
// #############  analysis  #############
// ######################################
.element-rounded{
  font-size: 0.9em;
  display: inline-block;
  margin: 30px 0;
  &.titre-graph{
    background-color: $darkGreen;
    color: $white;
  }
}
.graph-item{
  padding: 10px;
  width: 100%;

  &.graph-item-grey{
    background-color: $lightestGray!important;
    padding-bottom: 60px;
  }

  &.graph-item-white{
    background-color: white!important;
    padding-bottom: 40px;
  }
}

#project_platform_analysis{

  #financements{
    text-align: center;
    h4{
      font-size: 35px;
      line-height: 41px;
      margin: 80px 0 60px;
    }
    div.financementData{
      width: calc(25% - 30px);
      background-color: white;
      padding: 25px 35px;
      text-align: left;
      -webkit-box-shadow: 4px 6px 19px 0 rgba(0,0,0,0.1);
      -moz-box-shadow: 4px 6px 19px 0 rgba(0,0,0,0.1);
      box-shadow: 4px 6px 19px 0 rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      display: inline-block;
      position: relative;
      margin-right: 30px;
      margin-bottom: 100px;
      font-size: 1.4em;
      div:nth-child(2) {
        margin-top: 5px;
        font-size: 0.8em;
        color: $baseGreen;
      }
      img{
        position: absolute;
        bottom: 20px;
        right: 20px;
        z-index: 1;
        opacity: 0.8;
      }
      &:hover {
        background-color: lighten($darkGreen, 10%);
        cursor: pointer;
        div{
          color: $white;
        }
      }
    }
  }

  #investissements{
    text-align: center;
    .submenu {
      .element-rounded {
        padding: 8px 15px;
        margin: 0 0 30px 0;
        cursor: pointer;
        &.active, &:hover {
          border: 1px solid $darkBlue;
          color: $white;
          background-color: $darkBlue;
        }
      }
    }
    div.priorityAxis {
      background-color: $darkBlue;
      width: 60%;
      > div {
        display: grid;
        grid-template-columns: 33% 33% 33%;
      }
    }
    div.transversalAxis{
      background-color: $darkGreen;
      width: 40%;
      > div {
        display: grid;
        grid-template-columns: 50% 50%;
      }
    }
    div.priorityAxis, div.transversalAxis {
      color: #fff;
      padding: 20px;
      margin-bottom: 30px;
      h4 {
        margin-bottom: 50px;
      }
      > div {
        div.axis-item {
          text-align: center;
          margin-bottom: 30px;
          position: relative;
          cursor: pointer;
          &:hover > i{
            opacity: 1;
          }
          i {
            z-index: 1;
            opacity: 0;
            transition: 0.2s;
            position: absolute;
            padding: 5px 10px;
            background-color: white;
            color: $lightGreen;
            top: -20px;
            right: 0;
            font-size: 10px;
            border-radius: 6px;
            line-height: 14px;
            -webkit-box-shadow: 4px 6px 19px 0 rgba(0, 0, 0, 0.3);
            -moz-box-shadow: 4px 6px 19px 0 rgba(0, 0, 0, 0.3);
            box-shadow: 4px 6px 19px 0 rgba(0, 0, 0, 0.3);
            &:after {
              top: 100%;
              left: 50%;
              border: solid transparent;
              content: " ";
              height: 0;
              width: 0;
              position: absolute;
              pointer-events: none;
              border-top-color: white;
              border-width: 5px;
              margin-left: -5px;
            }
          }
          > div{
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-size: cover;
            margin: 0 auto 10px auto;
          }
        }
      }
    }
  }

  #evolution{
    background-color: $lightestGray;
    text-align: center;
    h4{
      font-size: 35px;
      line-height: 41px;
      margin: 80px 0 60px;
    }
  }

  .graph-item{
    height: 500px;
    width: 540px
  }

}

// ######################################
// ##############  manage  ##############
// ######################################
#project_platform_manage{

  #avancements{

    text-align: center;
    margin-bottom: 80px;
    background-color: white;
    padding: 80px 20px;

    h3{
      font-size: 35px;
      line-height: 41px;
      margin-bottom: 60px;
    }

    .content{

      > div{
        text-align: left;
        &:nth-child(1){
          p{
            border-top: 1px solid $lightGray;
          }
        }
        &:nth-child(2){
          text-align: center;
        }
      }

      h4, .budget{
        font-size: 1.4em;
        line-height: 25px;
        color: $lightGreen;
      }
      h5{
        font-size: 1.2em;
        line-height: 22px;
        margin-bottom: 30px;
      }
      p{
        margin-bottom: 2px;
        padding: 8px;
      }
      .date{
        font-weight: 600;
        span:nth-child(2) {
          border-left: 1px solid black;
          padding-left: 10px;
          margin-left: 10px;
        }
      }
      .description{
        padding-top: 20px;
        font-size: 0.8em;
        line-height: 18px;
        border-bottom: none;
        span{
          display: block;
          font-weight: 600;
          margin-bottom: 10px;
          font-size: 1.2em;
        }
      }

      .avancement_bar{
        width: 100%;
        float:left;
        background-color: $lightGray;
        border-radius: 20px;
        margin-top:10px;
        padding-bottom: 0px;
        >span{
          float:left;
          height:20px;
          background-color: $lightGreen;
          border-top-left-radius:20px;
          border-bottom-left-radius:20px;
          position: relative;
          z-index: 2;
          >i{
            position: absolute;
            padding:5px 10px;
            background-color: white;
            color: $lightGreen;
            right:0;
            top:-20px;
            font-size: 10px;
            border-radius: 6px;
            line-height: 14px;
            -webkit-box-shadow: 4px 6px 19px 0 rgba(0,0,0,0.3);
            -moz-box-shadow: 4px 6px 19px 0 rgba(0,0,0,0.3);
            box-shadow: 4px 6px 19px 0 rgba(0,0,0,0.3);
            transform: translateX(50%);
            &:after{
              top: 100%;
              left: 50%;
              border: solid transparent;
              content: " ";
              height: 0;
              width: 0;
              position: absolute;
              pointer-events: none;
              border-top-color: white;
              border-width: 5px;
              margin-left: -5px;
            }
          }
        }
      }

      .specificProject{
        border-bottom: 1px solid $lightGray;
        h6{
          font-size: 0.9em;
          line-height: 1.3em;
        }
        .results{
          line-height: 1.3em;
          font-size: 0.8em;
        }
        .switchObjectiveButton.active{
          background-color: $darkBlue;
          color: $white;
        }
      }

      .specificProjectText{
        text-align: left;
        font-size: 0.9em;
        h3{
          font-size: 1.6em;
          margin-top: 20px;
          margin-bottom: 10px;
        }
        ul{
          line-height: 20px;
          font-size: 0.95em;
        }
      }
    }
  }


  .graph-item{
    height: 500px;
    width: 400px
  }
}

// #####################################
// ##############  about  ##############
// #####################################
#project_platform_about{

  #about-img-container{
    width: 100%;
    height: 50vh;
    min-height: 500px;
    max-height: 900px;
    background-position: center;
    background-size: cover;
    clear: both;
    position: relative;
    div{
      display: inline-block;
      text-align: center;
      position: absolute;
      top: 50%;
      width: 100%;
      h2{
        color: #fff;
        font-size: 4em;
        margin-top: 0;
        span{
          display: block;
          font-size: 28px;
          line-height: 34px;
        }

      }
    }
  }

  .about-div-text{
    background: #e6e6e6;
    >.container{
      background: white;
    }
    .img{
      margin-top: 60px;
      img{
        width: 100%;
      }
    }

    .txt{
      float: right;
      margin-top: -180px;
      margin-right: 60px;
      margin-left: 60px;
      padding: 40px;
      background-color: white;
      border-top: 5px solid $darkerGreen;
      h4{
        color: $darkGreen;
        font-size:28px;
        line-height: 38px;
        font-weight: 300;
      }
    }

    .img-txt-hover-left{
      .txt{
        float: left;
      }
    }

  }

  .list-container{
    background-color: $darkGreen;
    padding:20px;
    div{
      display: flex;
      justify-content: space-between;
      .list{
        color: $white;
        display: inline-block;
        p{
          text-transform: uppercase;
        }
        ul{
          font-size: 0.8em;
          list-style: none;
        }
      }
    }
  }

  .txt-bottom{
    padding-left: 100px;
    margin-top: 30px;
  }
  .simple-txt{
    padding: 60px;
    margin: 60px 0;
  }

  .graph-item {
    width: 100%;
    height: 500px;
  }
}

